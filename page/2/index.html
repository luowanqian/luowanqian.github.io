<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="袋熊的树洞">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="袋熊的树洞">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Luo Wanqian">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>袋熊的树洞</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">袋熊的树洞</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">日拱一卒，功不唐捐</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-diary">

    <a href="/diary" rel="section"><i class="fa fa-fw fa-calendar"></i>diary</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/10/LeetCode-367-Valid-Perfect-Square/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/10/LeetCode-367-Valid-Perfect-Square/" class="post-title-link" itemprop="url">LeetCode 367 - Valid Perfect Square</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-10 09:19:53" itemprop="dateCreated datePublished" datetime="2020-05-10T09:19:53+08:00">2020-05-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Given a positive integer <code>num</code>, write a function which returns True if <code>num</code> is a perfect square else False.</p>
<p><strong>Note:</strong> <strong>Do not</strong> use any built-in library function such as <code>sqrt</code>.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 16</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 14</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure>

<p><strong>Related Topics:</strong> <code>Math</code>, <code>Binary Search</code></p>
<p>原问题: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/valid-perfect-square/">367. Valid Perfect Square</a></p>
<p>中文翻译版: <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/valid-perfect-square/">367. 有效的完全平方数</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>本题换种说法就是：求正整数 <code>num</code> 的平方根 <code>x</code>，且 <code>x</code> 的平方等于 <code>num</code>，如何求正整数的平方根，可以用二分查找进行求解，这个可以参考LeetCode原题 <a target="_blank" rel="noopener" href="https://leetcode.com/problems/sqrtx/">69. Sqrt(x)</a>（解题报告：<a href="/2020/04/23/LeetCode-69-SqrtX/" title="LeetCode 69 - Sqrt(x)">LeetCode 69 - Sqrt(x)</a>），二分查找后得到的平方根 <code>x</code>，只需判断 <code>x</code> 的平方是否等于 <code>num</code> 即可判断 <code>num</code> 是否为完全平方数</p>
<details>
<summary>参考解题代码</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPerfectSquare</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> low, mid, high;</span><br><span class="line"></span><br><span class="line">        low = <span class="number">0</span>;</span><br><span class="line">        high = (<span class="type">long</span>)num + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">            mid = low + (high - low) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (mid * mid &lt; num)</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                high = mid;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// if it doesn&#x27;t find square of number</span></span><br><span class="line">        <span class="keyword">if</span> (low * low != num)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line">    Solution solu;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// max of int</span></span><br><span class="line">    <span class="comment">// num = 2147483647;</span></span><br><span class="line">    num = <span class="number">14</span>;</span><br><span class="line">    cout &lt;&lt; num &lt;&lt; <span class="string">&quot; is perfect square: &quot;</span></span><br><span class="line">         &lt;&lt; solu.<span class="built_in">isPerfectSquare</span>(num) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</details>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/02/LeetCode-19-Remove-Nth-Node-From-End-of-List/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/02/LeetCode-19-Remove-Nth-Node-From-End-of-List/" class="post-title-link" itemprop="url">LeetCode 19 - Remove Nth Node From End of List</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-02 14:52:24" itemprop="dateCreated datePublished" datetime="2020-05-02T14:52:24+08:00">2020-05-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Given a linked list, remove the n-th node from the end of list and return its head.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Given linked list: 1-&gt;2-&gt;3-&gt;4-&gt;5, and n = 2.</span><br><span class="line"></span><br><span class="line">After removing the second node from the end, the linked list becomes 1-&gt;2-&gt;3-&gt;5.</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong></p>
<p>Given n will always be valid.</p>
<p><strong>Follow up:</strong></p>
<p>Could you do this in one pass?</p>
<p><strong>Related Topics:</strong> <code>Linked List</code>, <code>Two Pointers</code></p>
<p>原问题: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/remove-nth-node-from-end-of-list/">19. Remove Nth Node From End of List</a></p>
<p>中文翻译版: <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/">19. 删除链表的倒数第N个节点</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>这道题可以使用双指针方法解决，设定两个指针 <code>p1</code> 和 <code>p2</code>，先让指针 <code>p1</code> 遍历 <code>n</code> 个节点，然后指针 <code>p2</code> 开始和指针 <code>p1</code> 同步遍历链表，当指针 <code>p1</code> 遍历完链表后，指针 <code>p2</code> 刚好指向倒数第 <code>n</code> 个节点，此时删除该节点即可。</p>
<details>
<summary>参考解题代码</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">        ListNode *pos1, *pos2, *prev;</span><br><span class="line">        <span class="type">int</span> step;</span><br><span class="line"></span><br><span class="line">        prev = <span class="literal">NULL</span>;</span><br><span class="line">        pos1 = pos2 = head;</span><br><span class="line">        step = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (pos2 != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            pos2 = pos2-&gt;next;</span><br><span class="line">            step += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (step &gt; n) &#123;</span><br><span class="line">                prev = pos1;</span><br><span class="line">                pos1 = pos1-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (prev == <span class="literal">NULL</span>)</span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            prev-&gt;next = pos1-&gt;next;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

</details>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/02/LeetCode-160-Intersection-of-Two-Linked-Lists/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/02/LeetCode-160-Intersection-of-Two-Linked-Lists/" class="post-title-link" itemprop="url">LeetCode 160 - Intersection of Two Linked Lists</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-02 09:39:59" itemprop="dateCreated datePublished" datetime="2020-05-02T09:39:59+08:00">2020-05-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Write a program to find the node at which the intersection of two singly linked lists begins.</p>
<p>For example, the following two linked lists:</p>
<img src="/2020/05/02/LeetCode-160-Intersection-of-Two-Linked-Lists/160_statement.png" class="" width="450">

<p>begin to intersect at node <code>c1</code>.</p>
<p><strong>Example 1:</strong></p>
<img src="/2020/05/02/LeetCode-160-Intersection-of-Two-Linked-Lists/160_example_1.png" class="" width="450">

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: intersectVal = 8, listA = [4,1,8,4,5], listB = [5,0,1,8,4,5], skipA = 2, skipB = 3</span><br><span class="line">Output: Reference of the node with value = 8</span><br><span class="line">Input Explanation: The intersected node&#x27;s value is 8 (note that this must not be 0 if the two lists intersect). From the head of A, it reads as [4,1,8,4,5]. From the head of B, it reads as [5,0,1,8,4,5]. There are 2 nodes before the intersected node in A; There are 3 nodes before the intersected node in B.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<img src="/2020/05/02/LeetCode-160-Intersection-of-Two-Linked-Lists/160_example_2.png" class="" width="400">

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: intersectVal = 2, listA = [0,9,1,2,4], listB = [3,2,4], skipA = 3, skipB = 1</span><br><span class="line">Output: Reference of the node with value = 2</span><br><span class="line">Input Explanation: The intersected node&#x27;s value is 2 (note that this must not be 0 if the two lists intersect). From the head of A, it reads as [0,9,1,2,4]. From the head of B, it reads as [3,2,4]. There are 3 nodes before the intersected node in A; There are 1 node before the intersected node in B.</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<img src="/2020/05/02/LeetCode-160-Intersection-of-Two-Linked-Lists/160_example_3.png" class="" width="250">

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: intersectVal = 0, listA = [2,6,4], listB = [1,5], skipA = 3, skipB = 2</span><br><span class="line">Output: null</span><br><span class="line">Input Explanation: From the head of A, it reads as [2,6,4]. From the head of B, it reads as [1,5]. Since the two lists do not intersect, intersectVal must be 0, while skipA and skipB can be arbitrary values.</span><br><span class="line">Explanation: The two lists do not intersect, so return null.</span><br></pre></td></tr></table></figure>

<p><strong>Notes:</strong></p>
<ul>
<li>If the two linked lists have no intersection at all, return <code>null</code>.</li>
<li>The linked lists must retain their original structure after the function returns.</li>
<li>You may assume there are no cycles anywhere in the entire linked structure.</li>
<li>Your code should preferably run in <code>O(n)</code> time and use only <code>O(1)</code> memory.</li>
</ul>
<p><strong>Related Topics:</strong> <code>Linked List</code></p>
<p>原问题: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/intersection-of-two-linked-lists/">160. Intersection of Two Linked Lists</a></p>
<p>中文翻译版: <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/intersection-of-two-linked-lists/">160. 相交链表</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>这里假设两条链表有相交节点，如下图所示：</p>
<img src="/2020/05/02/LeetCode-160-Intersection-of-Two-Linked-Lists/equation.png" class="" width="400">

<p>图中 <code>AD</code> 线段代表链表1，线段 <code>CB</code> 加 线段 <code>BD</code> 代表链表2，链表1要长于链表2，两条链表相交于节点 <code>B</code>，链表1长度为 <code>|AD| = |AB| + |BD| = p + n</code>，链表2长度为 <code>|CB| + |BD| = m + n</code>（__注明__：这里长度定义为从线段开始节点遍历到结束节点所要移动的节点数）</p>
<p>现在开始同时遍历链表1和链表2，由于链表2比链表1要短，所以链表2最先遍历完，此时链表1遍历到节点 <code>E</code>，因此 <code>|AE| = m + n</code>，继续遍历链表2直到遍历结束，从节点 <code>E</code> 到节点 <code>D</code> 的长度为 <code>ED = q</code> </p>
<p>根据图中表示，我们可以得到一个等式，那就是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    |AB| + |BD| = |AE| + |ED|</span><br><span class="line">==&gt;  p + n = m + n + q</span><br><span class="line">==&gt;  p - m = q</span><br></pre></td></tr></table></figure>

<p>从上面等式可以得到 <code>|AB| - |CB| = q</code>，等式说明了链表1头节点 <code>A</code> 到相交节点 <code>B</code> 的长度比链表2头节点 <code>C</code> 到相交节点 <code>B</code> 长度要长 <code>q</code>，这个 <code>q</code> 是已知量，说明链表1第 <code>q</code> 个节点到节点 <code>B</code> 的距离要等于链表2节点 <code>C</code> 到节点 <code>B</code> 的距离。这里就可以得出该题的一个解题思路：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">设定两个指针p1和p2，分别用于遍历链表1和链表2，指针p1先移动到链表1的第q个节点，</span><br><span class="line">然后指针p2开始遍历链表2，直到 p1 == p2，此时 p1 为两个链表相交节点</span><br></pre></td></tr></table></figure>

<details>
<summary>参考解题代码</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode *<span class="title">getIntersectionNode</span><span class="params">(ListNode *headA, ListNode *headB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">NULL</span> == headA || <span class="literal">NULL</span> == headB)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">if</span> (headA == headB)</span><br><span class="line">            <span class="keyword">return</span> headA;</span><br><span class="line"></span><br><span class="line">        ListNode *prevA, *prevB;</span><br><span class="line">        ListNode *currA, *currB;</span><br><span class="line">        ListNode *posA, *posB;</span><br><span class="line"></span><br><span class="line">        prevA = prevB = <span class="literal">NULL</span>;</span><br><span class="line">        posA = currA = headA;</span><br><span class="line">        posB = currB = headB;</span><br><span class="line">        <span class="keyword">while</span> ((currA != <span class="literal">NULL</span>) || (currB != <span class="literal">NULL</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (currA != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                prevA = currA;</span><br><span class="line">                currA = currA-&gt;next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                posB = posB-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (currB != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                prevB = currB;</span><br><span class="line">                currB = currB-&gt;next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                posA = posA-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// have intersection</span></span><br><span class="line">        <span class="keyword">if</span> (prevA == prevB) &#123;</span><br><span class="line">            <span class="keyword">while</span> (posA != posB) &#123;</span><br><span class="line">                posA = posA-&gt;next;</span><br><span class="line">                posB = posB-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> posA;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

</details>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/27/LeetCode-141-Linked-List-Cycle/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/27/LeetCode-141-Linked-List-Cycle/" class="post-title-link" itemprop="url">LeetCode 141 - Linked List Cycle</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-27 20:43:26" itemprop="dateCreated datePublished" datetime="2020-04-27T20:43:26+08:00">2020-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Given a linked list, determine if it has a cycle in it.</p>
<p>To represent a cycle in the given linked list, we use an integer <code>pos</code> which represents the position (0-indexed) in the linked list where tail connects to. If <code>pos</code> is <code>-1</code>, then there is no cycle in the linked list.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [3,2,0,-4], pos = 1</span><br><span class="line">Output: true</span><br><span class="line">Explanation: There is a cycle in the linked list, where tail connects to the second node.</span><br></pre></td></tr></table></figure>

<img src="/2020/04/27/LeetCode-141-Linked-List-Cycle/circularlinkedlist.png" class="" width="350">

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1,2], pos = 0</span><br><span class="line">Output: true</span><br><span class="line">Explanation: There is a cycle in the linked list, where tail connects to the first node.</span><br></pre></td></tr></table></figure>

<img src="/2020/04/27/LeetCode-141-Linked-List-Cycle/circularlinkedlist_test2.png" class="" width="180">

<p><strong>Example 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1], pos = -1</span><br><span class="line">Output: false</span><br><span class="line">Explanation: There is no cycle in the linked list.</span><br></pre></td></tr></table></figure>

<img src="/2020/04/27/LeetCode-141-Linked-List-Cycle/circularlinkedlist_test3.png" class="" width="60">

<p><strong>Follow up:</strong></p>
<p>Can you solve it using <code>O(1)</code> (i.e. constant) memory?</p>
<p><strong>Related Topics:</strong> <code>Linked List</code>, <code>Two Pointers</code></p>
<p>原问题: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/linked-list-cycle/">141. Linked List Cycle</a></p>
<p>中文翻译版: <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/linked-list-cycle/">141. 环形链表</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>该题可以使用双指针方法进行解决，设定快指针 <code>fast</code> 和慢指针 <code>slow</code>，两指针同时从头节点 <code>head</code> 出发，慢指针每前进一个节点，快指针就前进两个节点，如果链表有环，由于两指针前进速度不同，最终两指针会汇聚在同一个节点，即 <code>fast == slow</code>，否则，快指针会最先到达链表节点，两指针不会汇聚在一起。</p>
<details>
<summary>参考解题代码</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;List.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">hasCycle</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        ListNode *fast, *slow;</span><br><span class="line">        fast = slow = head;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="literal">NULL</span> &amp;&amp; fast-&gt;next != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            slow = slow-&gt;next;</span><br><span class="line">            fast = fast-&gt;next-&gt;next;</span><br><span class="line">            <span class="keyword">if</span> (slow == fast)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ListNode *node1 = <span class="built_in">create_list_node</span>(<span class="number">1</span>);</span><br><span class="line">    ListNode *node2 = <span class="built_in">create_list_node</span>(<span class="number">2</span>);</span><br><span class="line">    ListNode *node3 = <span class="built_in">create_list_node</span>(<span class="number">3</span>);</span><br><span class="line">    ListNode *node4 = <span class="built_in">create_list_node</span>(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">connect_list_nodes</span>(node1, node2);</span><br><span class="line">    <span class="built_in">connect_list_nodes</span>(node2, node3);</span><br><span class="line">    <span class="built_in">connect_list_nodes</span>(node3, node4);</span><br><span class="line">    <span class="built_in">connect_list_nodes</span>(node4, node2);</span><br><span class="line"></span><br><span class="line">    Solution solu;</span><br><span class="line">    cout &lt;&lt; solu.<span class="built_in">hasCycle</span>(node1) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</details>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/24/LeetCode-36-Valid-Sudoku/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/24/LeetCode-36-Valid-Sudoku/" class="post-title-link" itemprop="url">LeetCode 36 - Valid Sudoku</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-24 20:27:55" itemprop="dateCreated datePublished" datetime="2020-04-24T20:27:55+08:00">2020-04-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Determine if a 9x9 Sudoku board is valid. Only the filled cells need to be validated <strong>according to the following rules</strong>:</p>
<ol>
<li>Each row must contain the digits <code>1-9</code> without repetition.</li>
<li>Each column must contain the digits <code>1-9</code> without repetition.</li>
<li>Each of the 9 <code>3x3</code> sub-boxes of the grid must contain the digits <code>1-9</code> without repetition.</li>
</ol>
<img src="/2020/04/24/LeetCode-36-Valid-Sudoku/1.png" class="" width="250">

<p>A partially filled sudoku which is valid.</p>
<p>The Sudoku board could be partially filled, where empty cells are filled with the character <code>&#39;.&#39;</code>.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[</span><br><span class="line">  [&quot;5&quot;,&quot;3&quot;,&quot;.&quot;,&quot;.&quot;,&quot;7&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],</span><br><span class="line">  [&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;1&quot;,&quot;9&quot;,&quot;5&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],</span><br><span class="line">  [&quot;.&quot;,&quot;9&quot;,&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;,&quot;.&quot;],</span><br><span class="line">  [&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;3&quot;],</span><br><span class="line">  [&quot;4&quot;,&quot;.&quot;,&quot;.&quot;,&quot;8&quot;,&quot;.&quot;,&quot;3&quot;,&quot;.&quot;,&quot;.&quot;,&quot;1&quot;],</span><br><span class="line">  [&quot;7&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;],</span><br><span class="line">  [&quot;.&quot;,&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;2&quot;,&quot;8&quot;,&quot;.&quot;],</span><br><span class="line">  [&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;4&quot;,&quot;1&quot;,&quot;9&quot;,&quot;.&quot;,&quot;.&quot;,&quot;5&quot;],</span><br><span class="line">  [&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;7&quot;,&quot;9&quot;]</span><br><span class="line">]</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[</span><br><span class="line">  [&quot;8&quot;,&quot;3&quot;,&quot;.&quot;,&quot;.&quot;,&quot;7&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],</span><br><span class="line">  [&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;1&quot;,&quot;9&quot;,&quot;5&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;],</span><br><span class="line">  [&quot;.&quot;,&quot;9&quot;,&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;,&quot;.&quot;],</span><br><span class="line">  [&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;3&quot;],</span><br><span class="line">  [&quot;4&quot;,&quot;.&quot;,&quot;.&quot;,&quot;8&quot;,&quot;.&quot;,&quot;3&quot;,&quot;.&quot;,&quot;.&quot;,&quot;1&quot;],</span><br><span class="line">  [&quot;7&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;2&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;6&quot;],</span><br><span class="line">  [&quot;.&quot;,&quot;6&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;2&quot;,&quot;8&quot;,&quot;.&quot;],</span><br><span class="line">  [&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;4&quot;,&quot;1&quot;,&quot;9&quot;,&quot;.&quot;,&quot;.&quot;,&quot;5&quot;],</span><br><span class="line">  [&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;8&quot;,&quot;.&quot;,&quot;.&quot;,&quot;7&quot;,&quot;9&quot;]</span><br><span class="line">]</span><br><span class="line">Output: false</span><br><span class="line">Explanation: Same as Example 1, except with the 5 in the top left corner being </span><br><span class="line">    modified to 8. Since there are two 8&#x27;s in the top left 3x3 sub-box, it is invalid.</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong></p>
<ul>
<li>A Sudoku board (partially filled) could be valid but is not necessarily solvable.</li>
<li>Only the filled cells need to be validated according to the mentioned rules.</li>
<li>The given board contain only digits <code>1-9</code> and the character <code>&#39;.&#39;</code>.</li>
<li>The given board size is always <code>9x9</code>.</li>
</ul>
<p><strong>Related Topics:</strong> <code>Hash Table</code></p>
<p>原问题: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/valid-sudoku/">36. Valid Sudoku</a></p>
<p>中文翻译版: <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/valid-sudoku/">36. 有效的数独</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><h3 id="方案1"><a href="#方案1" class="headerlink" title="方案1"></a>方案1</h3><p>根据题目说明，一个有效的数独，满足三个条件：</p>
<ol>
<li>每行数字有重复数字</li>
<li>每列不能有重复数字</li>
<li>每个 <code>3x3</code> 块中不能有重复数字</li>
</ol>
<p>怎么判断一行、一列或者一个小块中是否有重复数字，此时我们可以给用哈希表进行快速查找判断。首先我们分别给每一行、每一列以及每一小块建立一个哈希表，然后我们遍历所有数字，当遍历到某个数字时，我们根据该数字所处的行、列以及小块找到对应的哈希表，查找该数字是否在哈希表中出现，如果出现，说明该数独是无效的，否则我们将该数字存入哈希表，继续遍历。</p>
<details>
<summary>参考解题代码1</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValidSudoku</span><span class="params">(vector&lt;vector&lt;<span class="type">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</span><br><span class="line">        vector&lt;unordered_set&lt;<span class="type">char</span>&gt;&gt; <span class="built_in">row_sets</span>(<span class="number">9</span>);</span><br><span class="line">        vector&lt;unordered_set&lt;<span class="type">char</span>&gt;&gt; <span class="built_in">column_sets</span>(<span class="number">9</span>);</span><br><span class="line">        vector&lt;unordered_set&lt;<span class="type">char</span>&gt;&gt; <span class="built_in">block_sets</span>(<span class="number">9</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">char</span> ch;</span><br><span class="line">        <span class="type">int</span> block_id;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> i=<span class="number">0</span>; i&lt;<span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> j=<span class="number">0</span>; j&lt;<span class="number">9</span>; j++) &#123;</span><br><span class="line">                ch = board[i][j];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (ch == <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (row_sets[i].<span class="built_in">find</span>(ch) == row_sets[i].<span class="built_in">end</span>())</span><br><span class="line">                    row_sets[i].<span class="built_in">insert</span>(ch);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (column_sets[j].<span class="built_in">find</span>(ch) == column_sets[j].<span class="built_in">end</span>())</span><br><span class="line">                    column_sets[j].<span class="built_in">insert</span>(ch);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">                block_id = <span class="built_in">int</span>(i / <span class="number">3.0</span>) * <span class="number">3</span> + <span class="built_in">int</span>(j / <span class="number">3.0</span>);</span><br><span class="line">                <span class="keyword">if</span> (block_sets[block_id].<span class="built_in">find</span>(ch) == block_sets[block_id].<span class="built_in">end</span>())</span><br><span class="line">                    block_sets[block_id].<span class="built_in">insert</span>(ch);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">char</span>&gt;&gt; board = &#123;</span><br><span class="line">            &#123;<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;.&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;3&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;1&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;6&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;.&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;5&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;9&#x27;</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i=<span class="number">0</span>; i&lt;board.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> j=<span class="number">0</span>; j&lt;board[i].<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">            cout &lt;&lt; board[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Solution solu;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Is valid: &quot;</span> &lt;&lt; solu.<span class="built_in">isValidSudoku</span>(board) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</details>

<h3 id="方案2"><a href="#方案2" class="headerlink" title="方案2"></a>方案2</h3><p>同方案1的思想，只不过此时一行、一列以及一小块对应的哈希表分别用一个整数进行替代，通过该整数的某一位是否为1来进行重复数字判断，主要使用的是位与运算 <code>&amp;</code> 和位或运算 <code>|</code>。当遍历到某个数字 <code>x</code> 时，该数字所在行对应的整数为 <code>y</code>，此时判断该数字是否重复可以进行如下操作：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y &amp; (<span class="number">1</span> &lt;&lt; x)</span><br></pre></td></tr></table></figure>

<p>如果该表达式值非0，说明 <code>y</code> 的第 <code>x</code> 位是1，这说明该数字之前出现过，否则该表达式值为0。如果该数字未重复出现，则 <code>y</code> 设为：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y = y | (<span class="number">1</span> &lt;&lt; x) </span><br></pre></td></tr></table></figure>

<details>
<summary>参考解题代码2</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValidSudoku</span><span class="params">(vector&lt;vector&lt;<span class="type">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> row_status[board.<span class="built_in">size</span>()];</span><br><span class="line">        <span class="type">int</span> col_status[board.<span class="built_in">size</span>()];</span><br><span class="line">        <span class="type">int</span> cell_status[board.<span class="built_in">size</span>()];</span><br><span class="line">        <span class="type">int</span> digit, cell, block_size, num_blocks;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;board.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            row_status[i] = <span class="number">0</span>;</span><br><span class="line">            col_status[i] = <span class="number">0</span>;</span><br><span class="line">            cell_status[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        block_size = <span class="built_in">int</span>(<span class="built_in">sqrt</span>(board.<span class="built_in">size</span>()));</span><br><span class="line">        num_blocks = board.<span class="built_in">size</span>() / block_size;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;board.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>; j&lt;board[i].<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                digit = <span class="number">1</span> &lt;&lt; (board[i][j] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">                cell = (i / block_size) * num_blocks + (j / block_size);</span><br><span class="line">                <span class="keyword">if</span> ((row_status[i] &amp; digit) != <span class="number">0</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">if</span> ((col_status[j] &amp; digit) != <span class="number">0</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">if</span> ((cell_status[cell] &amp; digit) != <span class="number">0</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                row_status[i] |= digit;</span><br><span class="line">                col_status[j] |= digit;</span><br><span class="line">                cell_status[cell] |= digit;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">char</span>&gt;&gt; board = &#123;</span><br><span class="line">            &#123;<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;.&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;3&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;1&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;6&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;.&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;5&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;9&#x27;</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i=<span class="number">0</span>; i&lt;board.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> j=<span class="number">0</span>; j&lt;board[i].<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">            cout &lt;&lt; board[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Solution solu;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Is valid: &quot;</span> &lt;&lt; solu.<span class="built_in">isValidSudoku</span>(board) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</details>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/23/LeetCode-69-SqrtX/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/23/LeetCode-69-SqrtX/" class="post-title-link" itemprop="url">LeetCode 69 - Sqrt(x)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-23 22:17:53" itemprop="dateCreated datePublished" datetime="2020-04-23T22:17:53+08:00">2020-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Implement <code>int sqrt(int x)</code>.</p>
<p>Compute and return the square root of $x$, where $x$ is guaranteed to be a non-negative integer.</p>
<p>Since the return type is an integer, the decimal digits are truncated and only the integer part of the result is returned.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 4</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: 8</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: The square root of 8 is 2.82842..., and since </span><br><span class="line">             the decimal part is truncated, 2 is returned.</span><br></pre></td></tr></table></figure>

<p><strong>Related Topics:</strong> <code>Math</code>, <code>Binary Search</code></p>
<p>原问题: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/sqrtx/">69. Sqrt(x)</a></p>
<p>中文翻译版: <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/sqrtx/">69. x 的平方根</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>首先 $x$ 的平方根取值范围为 $[0, x]$，该区间中可能是 $x$ 的平方根的数要求满足其平方小于等于 $x$。题目中要求输出的是整数，此时问题变为在区间 $[0, x]$ 中寻找满足 $s^2 &lt;&#x3D; x$ 条件的最大的整数 $s$。</p>
<p>很自然地，我们可以从 $0$ 开始遍历，直到某个值的平方大于 $x$，此时前一个值就是所求的平方根，但是这种解法一般会超时。既然是在一个离散的区间内进行查找，并且区间的元素是有序的，此时我们可以用二分查找 (<code>Binary Search</code>) 快速找到我们想要的值。</p>
<details>
<summary>参考解题代码</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Use binary search to find the square root of x</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">mySqrt</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> low, high, mid, square;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// search in [low, high), so high = x + 1</span></span><br><span class="line">        <span class="comment">// use casting to avoid numerical overflow</span></span><br><span class="line">        low = <span class="number">0</span>, high = (<span class="type">long</span> <span class="type">long</span>)x + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">            mid = low + (high - low) / <span class="number">2</span>;</span><br><span class="line">            square = mid * mid;</span><br><span class="line">            <span class="keyword">if</span> (square &lt;= x)</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                high = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> low - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">2147483647</span>;</span><br><span class="line">    Solution solu;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Sqrt(&quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;) = &quot;</span> &lt;&lt; solu.<span class="built_in">mySqrt</span>(x) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里参考了知乎一个关于二分查找问题的回答 <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/36132386/answer/530313852">二分查找有几种写法？它们的区别是什么？</a>，因为我们要找的是 $s^2 &lt;&#x3D; x$ (等价于 $s &lt;&#x3D; \sqrt{x}$) 的上界，所以参考了 <code>upper_bound(value) - 1</code> 的写法。</p>
</details>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/22/LeetCode-50-Pow/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/22/LeetCode-50-Pow/" class="post-title-link" itemprop="url">LeetCode 50 - Pow(x, n)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-22 23:06:28" itemprop="dateCreated datePublished" datetime="2020-04-22T23:06:28+08:00">2020-04-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Implement <a target="_blank" rel="noopener" href="http://www.cplusplus.com/reference/valarray/pow/">pow(x, n)</a>, which calculates $x$ raised to the power $n$ ($x^n$).</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 2.00000, 10</span><br><span class="line">Output: 1024.00000</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 2.10000, 3</span><br><span class="line">Output: 9.26100</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: 2.00000, -2</span><br><span class="line">Output: 0.25000</span><br><span class="line">Explanation: 2^(-2) = (1/2)^2 = 1/4 = 0.25</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong></p>
<ul>
<li>$-100.0 \lt x \lt 100.0$</li>
<li>$n$ is a 32-bit signed integer, within the range $[-2^{31}, 2^{31}-1]$</li>
</ul>
<p><strong>Related Topics:</strong> <code>Math</code>, <code>Binary Search</code></p>
<p>原问题: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/powx-n/">50. Pow(x, n)</a></p>
<p>中文翻译版: <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/powx-n/">50. Pow(x, n)</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><h3 id="方案1"><a href="#方案1" class="headerlink" title="方案1"></a>方案1</h3><p>题目中 $n$ 是整数，此时求 $x$ 的 $n$ 次方可以分解为两个 $x$ 的 $n&#x2F;2$ 次方相乘，即：</p>
<p>$$<br>x^n &#x3D; \begin{cases}<br>x^{n&#x2F;2} \cdot x^{n&#x2F;2}  &amp; n \text{ is even} \<br>x^{n&#x2F;2} \cdot x^{n&#x2F;2} \cdot x &amp; n \text{ is odd}<br>\end{cases}<br>$$</p>
<p>则此题可以用递归进行求解，需要注意的是如果 $n$ 是负数，不能在代码里将 $n$ 转为正数，$x$ 转为 $1&#x2F;x$，因为该题的测试用例中会有 $n &#x3D; -2^{31}$ 这种取值，如果取正会导致数值溢出，解决办法是当 $n$ 为奇数时，此时</p>
<p>$$<br>x^{n} &#x3D; x^{n&#x2F;2} \cdot x^{n&#x2F;2} \cdot \frac{1}{x}<br>$$</p>
<details>
<summary>参考解题代码1</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// do not transfer n to -n if n &lt; 0</span></span><br><span class="line">        <span class="comment">// because of numerical overflow (n = -2^31)</span></span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">        <span class="type">double</span> half = <span class="built_in">myPow</span>(x, n/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> half * half;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (n &lt; <span class="number">0</span>)</span><br><span class="line">                x = <span class="number">1</span> / x;</span><br><span class="line">            <span class="keyword">return</span> half * half * x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> x;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    Solution solu;</span><br><span class="line"></span><br><span class="line">    x = <span class="number">1.00000</span>;</span><br><span class="line">    n = <span class="number">-2147483648</span>;    <span class="comment">// n = -2^31</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Pow(&quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; n &lt;&lt; <span class="string">&quot;) = &quot;</span></span><br><span class="line">         &lt;&lt; solu.<span class="built_in">myPow</span>(x, n) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</details>

<h3 id="方案2"><a href="#方案2" class="headerlink" title="方案2"></a>方案2</h3><p>方案1是递归解法，这里介绍非递归解法。从二进制角度看整数 $n$，如果第 $k$ 位为1，说明 $x^n$ 可以表示为 $x^n &#x3D; x^{2^k} \cdot x^{n-2^k}$，以此类推，将余下的 $x^{n-2^k}$ 根据非零位进行分解。例如 $n&#x3D;5$，其二进制表示为 <code>101</code>，则根据非零位，我们可以得到以下分解:</p>
<p>$$<br>x^5 &#x3D; x^{2^2} \cdot x^{2^0}<br>$$</p>
<p>根据分解可以得到一个迭代解法，就是计算结果初始值为 <code>ans = 1</code>，从第0位依次往高位对 $n$ 的二进制进行非零判断，如果 $n$ 的二进制第 $k$ 位非0，则 <code>ans</code> 乘上 $x^{2^k}$，即</p>
<p>$$<br>\text{ans} &#x3D; \text{ans} \cdot x^{2^k}<br>$$</p>
<p>遍历完 $n$ 的所有二进制位，<code>ans</code> 就是我们求得的计算结果。</p>
<p>那么我们怎么快速得到 $x^{2^k}$ 呢？我们可以将 $n$ 不断进行<code>右移</code>操作，每移动1位，对 $x$ 就进行以下计算</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x *= x</span><br></pre></td></tr></table></figure>

<p>这样当我们右移 $k$ 次时，此时 $x$ 已经是原始 $x$ 的 $2^k$ 次方，此时我们用位与运算判断第1位是否非0，如果非0，按照前面迭代过程可得，最终计算结果 <code>ans</code> 需要乘上 $x$。</p>
<details>
<summary>参考解题代码2</summary>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> num = n;</span><br><span class="line">        <span class="type">double</span> ans;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// use long long type to avoid numerical overflow</span></span><br><span class="line">            num = -(<span class="type">long</span> <span class="type">long</span>)n;</span><br><span class="line">            x = <span class="number">1</span> / x;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ans = <span class="number">1.0</span>;</span><br><span class="line">        <span class="keyword">while</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((num &amp; <span class="number">1</span>) != <span class="number">0</span>)</span><br><span class="line">                ans *= x;</span><br><span class="line">            x *= x;</span><br><span class="line">            num &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> x;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    Solution solu;</span><br><span class="line"></span><br><span class="line">    x = <span class="number">1.00000</span>;</span><br><span class="line">    n = <span class="number">-2147483648</span>;    <span class="comment">// n = -2^31</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Pow(&quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; n &lt;&lt; <span class="string">&quot;) = &quot;</span></span><br><span class="line">         &lt;&lt; solu.<span class="built_in">myPow</span>(x, n) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</details>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/01/28/TeX-Live-2019-Installation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/28/TeX-Live-2019-Installation/" class="post-title-link" itemprop="url">TeX Live 2019 Installation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-01-28 21:32:26" itemprop="dateCreated datePublished" datetime="2020-01-28T21:32:26+08:00">2020-01-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-安装环境"><a href="#1-安装环境" class="headerlink" title="1. 安装环境"></a>1. 安装环境</h1><p>OS Version: OS X 10.11.6</p>
<h1 id="2-获取安装脚本"><a href="#2-获取安装脚本" class="headerlink" title="2. 获取安装脚本"></a>2. 获取安装脚本</h1><p>这里没有选择 <a target="_blank" rel="noopener" href="http://www.tug.org/mactex/index.html">MacTex</a> 安装方式，而是采用 <a target="_blank" rel="noopener" href="https://www.tug.org/texlive/acquire-netinstall.html">Unix Install Script</a> 进行在线安装。之所以不用 <code>MaxTex</code> 是由于电脑系统版本有点老，MacTeX-2019 需要 Mac OS 10.12 以上版本的系统。</p>
<p>下载 <a target="_blank" rel="noopener" href="http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz">install-tl-unx.tar.gz</a> 安装脚本，解压后，得到以下文件。</p>
<img src="/2020/01/28/TeX-Live-2019-Installation/1.png" class="" width="500">

<p>安装脚本为 <code>install-tl</code></p>
<h1 id="3-开始安装"><a href="#3-开始安装" class="headerlink" title="3. 开始安装"></a>3. 开始安装</h1><p>启动安装只需要执行 <code>install-tl</code> 即可。这里直接在控制台执行安装脚本。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./install-tl-20200127/install-tl</span><br></pre></td></tr></table></figure>

<img src="/2020/01/28/TeX-Live-2019-Installation/2.png" class="" width="500">

<h1 id="4-安装配置"><a href="#4-安装配置" class="headerlink" title="4. 安装配置"></a>4. 安装配置</h1><h2 id="4-1-配置镜像地址"><a href="#4-1-配置镜像地址" class="headerlink" title="4.1. 配置镜像地址"></a>4.1. 配置镜像地址</h2><p>安装第一步是配置镜像地址，具体镜像的选择根据所处网络环境进行决定，这里选择了清华大学的镜像地址。</p>
<img src="/2020/01/28/TeX-Live-2019-Installation/3.png" class="" width="700">

<p>选择完镜像后，安装界面会显示切换后的镜像地址。</p>
<img src="/2020/01/28/TeX-Live-2019-Installation/4.png" class="" width="500">

<h2 id="4-2-详细配置"><a href="#4-2-详细配置" class="headerlink" title="4.2. 详细配置"></a>4.2. 详细配置</h2><p>接下来是安装配置，简易设置仅仅设置安装路径以及默认纸张。如果要非root安装Tex Live，安装路径设为用户目录即可，这里设置安装路径为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Users/luowanqian/local/texlive/2019</span><br></pre></td></tr></table></figure>

<img src="/2020/01/28/TeX-Live-2019-Installation/5.png" class="" width="500">

<p>如果要更加详细的配置，点 <code>Advanced</code> 按钮即可。</p>
<img src="/2020/01/28/TeX-Live-2019-Installation/6.png" class="" width="800">

<p>配置完后点 <code>安装</code> 启动安装。</p>
<h2 id="4-3-等待安装完毕"><a href="#4-3-等待安装完毕" class="headerlink" title="4.3. 等待安装完毕"></a>4.3. 等待安装完毕</h2><p>启动安装后，安装程序会自动下载包进行安装。这部分时间消耗较长，耐心等待即可。</p>
<img src="/2020/01/28/TeX-Live-2019-Installation/7.png" class="" width="500">

<p>安装完毕会显示如下图。</p>
<img src="/2020/01/28/TeX-Live-2019-Installation/8.png" class="" width="500">

<p>__注意__：安装完毕后，界面（见上图）会提示相关环境变量的设置，内容大概如下。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">欢迎进入 TeX Live 的世界！</span><br><span class="line"></span><br><span class="line">See /Users/luowanqian/local/texlive/2019/index.html for links to documentation.</span><br><span class="line">The TeX Live web site (https://tug.org/texlive/) contains any updates and corrections. TeX Live is a joint project of the TeX user groups around the world; please consider supporting it by joining the group best for you. The list of groups is available on the web at https://tug.org/usergroups.html.</span><br><span class="line"></span><br><span class="line">Add /Users/luowanqian/local/texlive/2019/texmf-dist/doc/man to MANPATH.</span><br><span class="line">Add /Users/luowanqian/local/texlive/2019/texmf-dist/doc/info to INFOPATH.</span><br><span class="line">Most importantly, add /Users/luowanqian/local/texlive/2019/bin/x86_64-darwinlegacy</span><br><span class="line">to your PATH for current and future sessions.</span><br></pre></td></tr></table></figure>

<h1 id="5-环境变量设置"><a href="#5-环境变量设置" class="headerlink" title="5. 环境变量设置"></a>5. 环境变量设置</h1><p>安装最后一步是设置环境变量，由前面提示可知，要设置的环境变量有三个：<code>MANPATH</code>、<code>INFOPATH</code> 以及 <code>PATH</code>。</p>
<p>根据提示在 <code>.bashrc</code> 文件中设置环境变量即可完成安装。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> MANPATH=<span class="string">&quot;<span class="variable">$MANPATH</span>:/Users/luowanqian/local/texlive/2019/texmf-dist/doc/man&quot;</span></span><br><span class="line"><span class="built_in">export</span> INFOPATH=<span class="string">&quot;<span class="variable">$INFOPATH</span>:/Users/luowanqian/local/texlive/2019/texmf-dist/doc/info&quot;</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$PATH</span>:/Users/luowanqian/local/texlive/2019/bin/x86_64-darwinlegacy&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>1: <a target="_blank" rel="noopener" href="https://www.tug.org/texlive/quickinstall.html">TeX Live - Quick install</a></p>
<p>2: <a target="_blank" rel="noopener" href="http://www.tug.org/mactex/mactex-unix-download.html">Unix Install of TeXLive 2019</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/01/28/101-NumPy-Exercises/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/28/101-NumPy-Exercises/" class="post-title-link" itemprop="url">101 NumPy Exercises</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-01-28 10:08:11" itemprop="dateCreated datePublished" datetime="2020-01-28T10:08:11+08:00">2020-01-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-将-NumPy-导入为-np，并查看版本"><a href="#1-将-NumPy-导入为-np，并查看版本" class="headerlink" title="1. 将 NumPy 导入为 np，并查看版本"></a>1. 将 NumPy 导入为 np，并查看版本</h1><details>
<summary>English Version</summary>

<p>Title: Import numpy as np and see the version</p>
<p>Difficulty Level: L1</p>
<p>Question: Import numpy as np and print the version number.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：将 NumPy 导入为 np，并输出版本号。</p>
<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(np.__version__)</span><br><span class="line"><span class="number">1.15</span><span class="number">.4</span></span><br></pre></td></tr></table></figure>

</details>

<h1 id="2-如何创建-1-维数组？"><a href="#2-如何创建-1-维数组？" class="headerlink" title="2. 如何创建 1 维数组？"></a>2. 如何创建 1 维数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to create a 1D array?</p>
<p>Difficulty Level: L1</p>
<p>Question: Create a 1D array of numbers from 0 to 9.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：创建数字从 0 到 9 的 1 维数组。</p>
<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="3-如何创建-boolean-数组？"><a href="#3-如何创建-boolean-数组？" class="headerlink" title="3. 如何创建 boolean 数组？"></a>3. 如何创建 boolean 数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to create a boolean array?</p>
<p>Difficulty Level: L1</p>
<p>Question: Create a 3×3 numpy array of all True’s.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：创建所有值为 True 的 3×3 NumPy 数组。</p>
<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.full((<span class="number">3</span>, <span class="number">3</span>), <span class="literal">True</span>)</span><br><span class="line">array([[ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">       [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">       [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>

<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.ones((<span class="number">3</span>, <span class="number">3</span>), dtype=<span class="built_in">bool</span>)</span><br><span class="line">array([[ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">       [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>],</span><br><span class="line">       [ <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="4-如何从-1-维数组中提取满足给定条件的项？"><a href="#4-如何从-1-维数组中提取满足给定条件的项？" class="headerlink" title="4. 如何从 1 维数组中提取满足给定条件的项？"></a>4. 如何从 1 维数组中提取满足给定条件的项？</h1><details>
<summary>English Version</summary>

<p>Title: How to extract items that satisfy a given condition from 1D array?</p>
<p>Difficulty Level: L1</p>
<p>Question: Extract all odd numbers from <code>arr</code>.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：从 <code>arr</code> 中提取所有奇数。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[arr % <span class="number">2</span> == <span class="number">1</span>]</span><br><span class="line">array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="5-如何将-NumPy-数组中满足给定条件的项替换成另一个数值？"><a href="#5-如何将-NumPy-数组中满足给定条件的项替换成另一个数值？" class="headerlink" title="5. 如何将 NumPy 数组中满足给定条件的项替换成另一个数值？"></a>5. 如何将 NumPy 数组中满足给定条件的项替换成另一个数值？</h1><details>
<summary>English Version</summary>

<p>Title: How to replace items that satisfy a condition with another value in numpy array?</p>
<p>Difficulty Level: L1</p>
<p>Question: Replace all odd numbers in <code>arr</code> with -1.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：将 <code>arr</code> 中的所有奇数替换成 -1。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([ <span class="number">0</span>, -<span class="number">1</span>, <span class="number">2</span>, -<span class="number">1</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">6</span>, -<span class="number">1</span>, <span class="number">8</span>, -<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[arr % <span class="number">2</span> == <span class="number">1</span>] = -<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([ <span class="number">0</span>, -<span class="number">1</span>,  <span class="number">2</span>, -<span class="number">1</span>,  <span class="number">4</span>, -<span class="number">1</span>,  <span class="number">6</span>, -<span class="number">1</span>,  <span class="number">8</span>, -<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="6-如何在不影响原始数组的前提下替换满足给定条件的项？"><a href="#6-如何在不影响原始数组的前提下替换满足给定条件的项？" class="headerlink" title="6. 如何在不影响原始数组的前提下替换满足给定条件的项？"></a>6. 如何在不影响原始数组的前提下替换满足给定条件的项？</h1><details>
<summary>English Version</summary>

<p>Title: How to replace items that satisfy a condition without affecting the original array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Replace all odd numbers in <code>arr</code> with -1 without changing <code>arr</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：将 <code>arr</code> 中所有奇数替换成 -1，且不改变 <code>arr</code>。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>out</span><br><span class="line">array([ <span class="number">0</span>, -<span class="number">1</span>, <span class="number">2</span>, -<span class="number">1</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">6</span>, -<span class="number">1</span>, <span class="number">8</span>, -<span class="number">1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = np.copy(arr)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out[out % <span class="number">2</span> == <span class="number">1</span>] = -<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out</span><br><span class="line">array([ <span class="number">0</span>, -<span class="number">1</span>,  <span class="number">2</span>, -<span class="number">1</span>,  <span class="number">4</span>, -<span class="number">1</span>,  <span class="number">6</span>, -<span class="number">1</span>,  <span class="number">8</span>, -<span class="number">1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line">out</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = np.where(arr % <span class="number">2</span> == <span class="number">1</span>, -<span class="number">1</span>, arr)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out</span><br><span class="line">array([ <span class="number">0</span>, -<span class="number">1</span>,  <span class="number">2</span>, -<span class="number">1</span>,  <span class="number">4</span>, -<span class="number">1</span>,  <span class="number">6</span>, -<span class="number">1</span>,  <span class="number">8</span>, -<span class="number">1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="7-如何重塑（reshape）数组？"><a href="#7-如何重塑（reshape）数组？" class="headerlink" title="7. 如何重塑（reshape）数组？"></a>7. 如何重塑（reshape）数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to reshape an array?</p>
<p>Difficulty Level: L1</p>
<p>Question: Convert a 1D array to a 2D array with 2 rows.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：将 1 维数组转换成 2 维数组（两行）。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr.reshape((<span class="number">2</span>, -<span class="number">1</span>))</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="8-如何垂直堆叠两个数组？"><a href="#8-如何垂直堆叠两个数组？" class="headerlink" title="8. 如何垂直堆叠两个数组？"></a>8. 如何垂直堆叠两个数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to stack two arrays vertically?</p>
<p>Difficulty Level: L2</p>
<p>Question: Stack arrays <code>a</code> and <code>b</code> vertically.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：垂直堆叠数组 <code>a</code> 和 <code>b</code>。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>, -<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.repeat(<span class="number">1</span>, <span class="number">10</span>).reshape(<span class="number">2</span>, -<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.concatenate((a, b), axis=<span class="number">0</span>)</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.vstack((a, b))</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 3</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.r_[a, b]</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="9-如何水平堆叠两个数组？"><a href="#9-如何水平堆叠两个数组？" class="headerlink" title="9. 如何水平堆叠两个数组？"></a>9. 如何水平堆叠两个数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to stack two arrays horizontally?</p>
<p>Difficulty Level: L2</p>
<p>Question: Stack the arrays <code>a</code> and <code>b</code> horizontally.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：水平堆叠数组 <code>a</code> 和 <code>b</code>。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>, -<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.repeat(<span class="number">1</span>, <span class="number">10</span>).reshape(<span class="number">2</span>, -<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.concatenate((a, b), axis=<span class="number">1</span>)</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.hstack((a, b))</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 3</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.c_[a, b]</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="10-在不使用硬编码的前提下，如何在-NumPy-中生成自定义序列？"><a href="#10-在不使用硬编码的前提下，如何在-NumPy-中生成自定义序列？" class="headerlink" title="10. 在不使用硬编码的前提下，如何在 NumPy 中生成自定义序列？"></a>10. 在不使用硬编码的前提下，如何在 NumPy 中生成自定义序列？</h1><details>
<summary>English Version</summary>

<p>Title: How to generate custom sequences in numpy without hardcoding?</p>
<p>Difficulty Level: L2</p>
<p>Question: Create the following pattern without hardcoding. Use only numpy functions and the below input array <code>a</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在不使用硬编码的前提下创建以下模式。仅使用 NumPy 函数和以下输入数组 <code>a</code>。</p>
<p>输入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.concatenate((np.repeat(a, <span class="number">3</span>), np.tile(a, <span class="number">3</span>)))</span><br><span class="line">array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.r_[np.repeat(a, <span class="number">3</span>), np.tile(a, <span class="number">3</span>)]</span><br><span class="line">array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="11-如何获得两个-Python-NumPy-数组中共同的项？"><a href="#11-如何获得两个-Python-NumPy-数组中共同的项？" class="headerlink" title="11. 如何获得两个 Python NumPy 数组中共同的项？"></a>11. 如何获得两个 Python NumPy 数组中共同的项？</h1><details>
<summary>English Version</summary>

<p>Title: How to get the common items between two python numpy arrays?</p>
<p>Difficulty Level: L2</p>
<p>Question: Get the common items between <code>a</code> and <code>b</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：获取数组 <code>a</code> 和 <code>b</code> 中的共同项。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([<span class="number">7</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">8</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">2</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.intersect1d(a, b)</span><br><span class="line">array([<span class="number">2</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="12-如何从一个数组中移除与另一个数组重复的项？"><a href="#12-如何从一个数组中移除与另一个数组重复的项？" class="headerlink" title="12. 如何从一个数组中移除与另一个数组重复的项？"></a>12. 如何从一个数组中移除与另一个数组重复的项？</h1><details>
<summary>English Version</summary>

<p>Title: How to remove from one array those items that exist in another?</p>
<p>Difficulty Level: L2</p>
<p>Question: From array <code>a</code> remove all items present in array <code>b</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：从数组 <code>a</code> 中移除出现在数组 <code>b</code> 中的所有项。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.setdiff1d(a, b)</span><br><span class="line">array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="13-如何获取两个数组匹配元素的位置？"><a href="#13-如何获取两个数组匹配元素的位置？" class="headerlink" title="13. 如何获取两个数组匹配元素的位置？"></a>13. 如何获取两个数组匹配元素的位置？</h1><details>
<summary>English Version</summary>

<p>Title: How to get the positions where elements of two arrays match?</p>
<p>Difficulty Level: L2</p>
<p>Question: Get the positions where elements of <code>a</code> and <code>b</code> match.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：获取数组 a 和 b 中匹配元素的位置。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([<span class="number">7</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">8</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>]), )</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.where(a == b)</span><br><span class="line">(array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>]),)</span><br></pre></td></tr></table></figure>

</details>

<h1 id="14-如何从-NumPy-数组中提取给定范围内的所有数字？"><a href="#14-如何从-NumPy-数组中提取给定范围内的所有数字？" class="headerlink" title="14. 如何从 NumPy 数组中提取给定范围内的所有数字？"></a>14. 如何从 NumPy 数组中提取给定范围内的所有数字？</h1><details>
<summary>English Version</summary>

<p>Title: How to extract all numbers between a given range from a numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Get all items between 5 and 10 from <code>a</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：从数组 <code>a</code> 中提取 5 和 10 之间的所有项。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">2</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">27</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">6</span>, <span class="number">9</span>, <span class="number">10</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[(a &gt;= <span class="number">5</span>) &amp; (a &lt;= <span class="number">10</span>)]</span><br><span class="line">array([ <span class="number">6</span>,  <span class="number">9</span>, <span class="number">10</span>])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>index = np.where((a &gt;= <span class="number">5</span>) &amp; (a &lt;= <span class="number">10</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[index]</span><br><span class="line">array([ <span class="number">6</span>,  <span class="number">9</span>, <span class="number">10</span>])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 3</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>index = np.where(np.logical_and(a&gt;=<span class="number">5</span>, a&lt;=<span class="number">10</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[index]</span><br><span class="line">array([ <span class="number">6</span>,  <span class="number">9</span>, <span class="number">10</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="15-如何创建一个-Python-函数以对-NumPy-数组执行元素级的操作？"><a href="#15-如何创建一个-Python-函数以对-NumPy-数组执行元素级的操作？" class="headerlink" title="15. 如何创建一个 Python 函数以对 NumPy 数组执行元素级的操作？"></a>15. 如何创建一个 Python 函数以对 NumPy 数组执行元素级的操作？</h1><details>
<summary>English Version</summary>

<p>Title: How to make a python function that handles scalars to work on numpy arrays?</p>
<p>Difficulty Level: L2</p>
<p>Question: Convert the function <code>maxx</code> that works on two scalars, to work on two arrays.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：转换函数 <code>maxx</code>，使其从只能对比标量而变为对比两个数组。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">maxx</span>(<span class="params">x, y</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="string">&quot;&quot;&quot;Get the maximum of two items&quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">if</span> x &gt;= y:</span><br><span class="line"><span class="meta">... </span>       <span class="keyword">return</span> x</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">else</span>:</span><br><span class="line"><span class="meta">... </span>       <span class="keyword">return</span> y</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>maxx(<span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([<span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pair_max(a, b)</span><br><span class="line">array([<span class="number">6.</span>, <span class="number">7.</span>, <span class="number">9.</span>, <span class="number">8.</span>, <span class="number">9.</span>, <span class="number">7.</span>, <span class="number">5.</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>pair_max = np.vectorize(maxx, otypes=[<span class="built_in">float</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([<span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pair_max(a, b)</span><br><span class="line">array([<span class="number">6.</span>, <span class="number">7.</span>, <span class="number">9.</span>, <span class="number">8.</span>, <span class="number">9.</span>, <span class="number">7.</span>, <span class="number">5.</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="16-如何在-2d-NumPy-数组中交换两个列？"><a href="#16-如何在-2d-NumPy-数组中交换两个列？" class="headerlink" title="16. 如何在 2d NumPy 数组中交换两个列？"></a>16. 如何在 2d NumPy 数组中交换两个列？</h1><details>
<summary>English Version</summary>

<p>Title: How to swap two columns in a 2d numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Swap columns 1 and 2 in the array <code>arr</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在数组 <code>arr</code> 中交换列 1 和列 2。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[:, [<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>]]</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">6</span>, <span class="number">8</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Swap in-place</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tmp = arr[:, <span class="number">0</span>].copy()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[:, <span class="number">0</span>] = arr[:, <span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[:, <span class="number">1</span>] = tmp</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">6</span>, <span class="number">8</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="17-如何在-2d-NumPy-数组中交换两个行？"><a href="#17-如何在-2d-NumPy-数组中交换两个行？" class="headerlink" title="17. 如何在 2d NumPy 数组中交换两个行？"></a>17. 如何在 2d NumPy 数组中交换两个行？</h1><details>
<summary>English Version</summary>

<p>Title: How to swap two rows in a 2d numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Swap rows 1 and 2 in the array <code>arr</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在数组 <code>arr</code> 中交换行 1 和行 2。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[[<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>], :]</span><br><span class="line">array([[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Swap in-place</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tmp = arr[<span class="number">0</span>, :].copy()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[<span class="number">0</span>, :] = arr[<span class="number">1</span>, :]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[<span class="number">1</span>, :] = tmp</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="18-如何反转-2D-数组的所有行？"><a href="#18-如何反转-2D-数组的所有行？" class="headerlink" title="18. 如何反转 2D 数组的所有行？"></a>18. 如何反转 2D 数组的所有行？</h1><details>
<summary>English Version</summary>

<p>Title: How to reverse the rows of a 2D array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Reverse the rows of a 2D array <code>arr</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：反转 2D 数组 <code>arr</code> 中的所有行。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[::-<span class="number">1</span>]</span><br><span class="line">array([[<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="19-如何反转-2D-数组的所有列？"><a href="#19-如何反转-2D-数组的所有列？" class="headerlink" title="19. 如何反转 2D 数组的所有列？"></a>19. 如何反转 2D 数组的所有列？</h1><details>
<summary>English Version</summary>

<p>Title: How to reverse the columns of a 2D array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Reverse the columns of a 2D array <code>arr</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：反转 2D 数组 <code>arr</code> 中的所有列。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[:, ::-<span class="number">1</span>]</span><br><span class="line">array([[<span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="20-如何创建一个包含-5-和-10-之间浮点数的随机-2-维数组？"><a href="#20-如何创建一个包含-5-和-10-之间浮点数的随机-2-维数组？" class="headerlink" title="20. 如何创建一个包含 5 和 10 之间浮点数的随机 2 维数组？"></a>20. 如何创建一个包含 5 和 10 之间浮点数的随机 2 维数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to create a 2D array containing random floats between 5 and 10?</p>
<p>Difficulty Level: L2</p>
<p>Question: Create a 2D array of shape 5x3 to contain random decimal numbers between 5 and 10.</p>
<hr>
</details>


<p>难度：L2</p>
<p>问题：创建一个形态为 5×3 的 2 维数组，包含 5 和 10 之间的随机十进制小数。</p>
<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.uniform(<span class="number">5</span>, <span class="number">10</span>, size=(<span class="number">5</span>, <span class="number">3</span>))</span><br><span class="line">array([[<span class="number">7.71702471</span>, <span class="number">6.39184693</span>, <span class="number">7.12258795</span>],</span><br><span class="line">       [<span class="number">9.22388066</span>, <span class="number">5.02359428</span>, <span class="number">5.6078456</span> ],</span><br><span class="line">       [<span class="number">8.35374542</span>, <span class="number">9.12926378</span>, <span class="number">5.68353295</span>],</span><br><span class="line">       [<span class="number">7.87546665</span>, <span class="number">9.45660977</span>, <span class="number">6.04601061</span>],</span><br><span class="line">       [<span class="number">5.9266411</span> , <span class="number">5.54188445</span>, <span class="number">6.09848746</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = (<span class="number">10</span> - <span class="number">5</span>) * np.random.rand(<span class="number">5</span>, <span class="number">3</span>) + <span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([[<span class="number">7.71702471</span>, <span class="number">6.39184693</span>, <span class="number">7.12258795</span>],</span><br><span class="line">       [<span class="number">9.22388066</span>, <span class="number">5.02359428</span>, <span class="number">5.6078456</span> ],</span><br><span class="line">       [<span class="number">8.35374542</span>, <span class="number">9.12926378</span>, <span class="number">5.68353295</span>],</span><br><span class="line">       [<span class="number">7.87546665</span>, <span class="number">9.45660977</span>, <span class="number">6.04601061</span>],</span><br><span class="line">       [<span class="number">5.9266411</span> , <span class="number">5.54188445</span>, <span class="number">6.09848746</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 3</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Maybe different from other solutions</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rand_arr = np.random.randint(low=<span class="number">5</span>, high=<span class="number">10</span>, size=(<span class="number">5</span>, <span class="number">3</span>)) + np.random.random((<span class="number">5</span>, <span class="number">3</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rand_arr</span><br><span class="line">array([[<span class="number">6.41920093</span>, <span class="number">9.40003816</span>, <span class="number">7.78940871</span>],</span><br><span class="line">       [<span class="number">7.973373</span>  , <span class="number">6.51303275</span>, <span class="number">6.04690216</span>],</span><br><span class="line">       [<span class="number">5.26486281</span>, <span class="number">8.24187676</span>, <span class="number">9.69046437</span>],</span><br><span class="line">       [<span class="number">8.34740798</span>, <span class="number">7.26776599</span>, <span class="number">8.26254059</span>],</span><br><span class="line">       [<span class="number">8.46680771</span>, <span class="number">9.86023614</span>, <span class="number">6.52209887</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="21-如何在-Python-NumPy-数组中仅输出小数点后三位的数字？"><a href="#21-如何在-Python-NumPy-数组中仅输出小数点后三位的数字？" class="headerlink" title="21. 如何在 Python NumPy 数组中仅输出小数点后三位的数字？"></a>21. 如何在 Python NumPy 数组中仅输出小数点后三位的数字？</h1><details>
<summary>English Version</summary>

<p>Title: How to print only 3 decimal places in python numpy array?</p>
<p>Difficulty Level: L1</p>
<p>Question: Print or show only 3 decimal places of the numpy array <code>rand_arr</code>.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：输出或显示 NumPy 数组 <code>rand_arr</code> 中小数点后三位的数字。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rand_arr = np.random.random((<span class="number">5</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.set_printoptions(precision=<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rand_arr</span><br><span class="line">array([[<span class="number">0.152</span>, <span class="number">0.272</span>, <span class="number">0.846</span>],</span><br><span class="line">       [<span class="number">0.927</span>, <span class="number">0.521</span>, <span class="number">0.665</span>],</span><br><span class="line">       [<span class="number">0.465</span>, <span class="number">0.67</span> , <span class="number">0.136</span>],</span><br><span class="line">       [<span class="number">0.829</span>, <span class="number">0.175</span>, <span class="number">0.343</span>],</span><br><span class="line">       [<span class="number">0.281</span>, <span class="number">0.177</span>, <span class="number">0.596</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="22-如何通过禁用科学计数法（如-1e10）打印-NumPy-数组？"><a href="#22-如何通过禁用科学计数法（如-1e10）打印-NumPy-数组？" class="headerlink" title="22. 如何通过禁用科学计数法（如 1e10）打印 NumPy 数组？"></a>22. 如何通过禁用科学计数法（如 1e10）打印 NumPy 数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to pretty print a numpy array by suppressing the scientific notation (like 1e10)?</p>
<p>Difficulty Level: L1</p>
<p>Question: Pretty print <code>rand_arr</code> by suppressing the scientific notation (like 1e10).</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：通过禁用科学计数法（如 1e10）打印 NumPy 数组 <code>rand_arr</code>。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create the random array</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rand_arr = np.random.random([<span class="number">3</span>, <span class="number">3</span>]) / <span class="number">1e3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rand_arr</span><br><span class="line">array([[<span class="number">5.43404942e-04</span>, <span class="number">2.78369385e-04</span>, <span class="number">4.24517591e-04</span>],</span><br><span class="line">       [<span class="number">8.44776132e-04</span>, <span class="number">4.71885619e-06</span>, <span class="number">1.21569121e-04</span>],</span><br><span class="line">       [<span class="number">6.70749085e-04</span>, <span class="number">8.25852755e-04</span>, <span class="number">1.36706590e-04</span>]])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array([[<span class="number">0.000543</span>, <span class="number">0.000278</span>, <span class="number">0.000425</span>],</span><br><span class="line">       [<span class="number">0.000845</span>, <span class="number">0.000005</span>, <span class="number">0.000122</span>],</span><br><span class="line">       [<span class="number">0.000671</span>, <span class="number">0.000826</span>, <span class="number">0.000137</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># precision is optional</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.set_printoptions(suppress=<span class="literal">True</span>, precision=<span class="number">6</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rand_arr</span><br><span class="line">array([[<span class="number">0.000543</span>, <span class="number">0.000278</span>, <span class="number">0.000425</span>],</span><br><span class="line">       [<span class="number">0.000845</span>, <span class="number">0.000005</span>, <span class="number">0.000122</span>],</span><br><span class="line">       [<span class="number">0.000671</span>, <span class="number">0.000826</span>, <span class="number">0.000137</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="23-如何限制-NumPy-数组输出中项的数目？"><a href="#23-如何限制-NumPy-数组输出中项的数目？" class="headerlink" title="23. 如何限制 NumPy 数组输出中项的数目？"></a>23. 如何限制 NumPy 数组输出中项的数目？</h1><details>
<summary>English Version</summary>

<p>Title: How to limit the number of items printed in output of numpy array?</p>
<p>Difficulty Level: L1</p>
<p>Question: Limit the number of items printed in python numpy array <code>a</code> to a maximum of 6 elements.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：将 Python NumPy 数组 <code>a</code> 输出的项的数目限制在最多 6 个元素。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">15</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>, ..., <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.set_printoptions(threshold=<span class="number">6</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>, ..., <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="24-如何在不截断数组的前提下打印出完整的-NumPy-数组？"><a href="#24-如何在不截断数组的前提下打印出完整的-NumPy-数组？" class="headerlink" title="24. 如何在不截断数组的前提下打印出完整的 NumPy 数组？"></a>24. 如何在不截断数组的前提下打印出完整的 NumPy 数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to print the full numpy array without truncating</p>
<p>Difficulty Level: L1</p>
<p>Question: Print the full numpy array <code>a</code> without truncating.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：在不截断数组的前提下打印出完整的 NumPy 数组 a。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.set_printoptions(threshold=<span class="number">6</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.arange(<span class="number">15</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([ <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, ..., <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([ <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.set_printoptions(threshold=np.nan)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.set_printoptions(threshold=<span class="number">1000</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="25-如何向-Python-NumPy-导入包含数字和文本的数据集，同时保持文本不变？"><a href="#25-如何向-Python-NumPy-导入包含数字和文本的数据集，同时保持文本不变？" class="headerlink" title="25. 如何向 Python NumPy 导入包含数字和文本的数据集，同时保持文本不变？"></a>25. 如何向 Python NumPy 导入包含数字和文本的数据集，同时保持文本不变？</h1><details>
<summary>English Version</summary>

<p>Title: How to import a dataset with numbers and texts keeping the text intact in python numpy?</p>
<p>Difficulty Level: L2</p>
<p>Question: Import the iris dataset keeping the text intact.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：导入 iris 数据集，保持文本不变。</p>
<p>从 <a target="_blank" rel="noopener" href="https://archive.ics.uci.edu/ml/datasets/Iris">Iris Data Set</a> 网页下载数据集 <code>iris.data</code>。</p>
<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">object</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris[:<span class="number">3</span>]</span><br><span class="line">array([[<span class="string">b&#x27;5.1&#x27;</span>, <span class="string">b&#x27;3.5&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.9&#x27;</span>, <span class="string">b&#x27;3.0&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.7&#x27;</span>, <span class="string">b&#x27;3.2&#x27;</span>, <span class="string">b&#x27;1.3&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>]], dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

<p>Since we want to retain the species, a text field, I have set the <code>dtype</code> to <code>object</code>. Had I set <code>dtype=None</code>, a 1d array of tuples would have been returned.</p>
</details>

<h1 id="26-如何从-1-维元组数组中提取特定的列？"><a href="#26-如何从-1-维元组数组中提取特定的列？" class="headerlink" title="26. 如何从 1 维元组数组中提取特定的列？"></a>26. 如何从 1 维元组数组中提取特定的列？</h1><details>
<summary>English Version</summary>

<p>Title: How to extract a particular column from 1D array of tuples?</p>
<p>Difficulty Level: L2</p>
<p>Question: Extract the text column species from the 1D <code>iris_1d</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：从导入的 1 维 <code>iris_1d</code> 中提取文本列 species。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_1d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>species = np.array([row[<span class="number">4</span>] <span class="keyword">for</span> row <span class="keyword">in</span> iris_1d])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species[:<span class="number">7</span>]</span><br><span class="line">array([<span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>,</span><br><span class="line">       <span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>], dtype=<span class="string">&#x27;|S18&#x27;</span>)</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>vfunc = np.vectorize(<span class="keyword">lambda</span> x: x[<span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species = vfunc(iris_1d)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species[:<span class="number">7</span>]</span><br><span class="line">array([<span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>,</span><br><span class="line">       <span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>], dtype=<span class="string">&#x27;|S15&#x27;</span>)</span><br></pre></td></tr></table></figure>

</details>

<h1 id="27-如何将-1-维元组数组转换成-2-维-NumPy-数组？"><a href="#27-如何将-1-维元组数组转换成-2-维-NumPy-数组？" class="headerlink" title="27. 如何将 1 维元组数组转换成 2 维 NumPy 数组？"></a>27. 如何将 1 维元组数组转换成 2 维 NumPy 数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to convert a 1d array of tuples to a 2d numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Convert the 1D <code>iris_1d</code> to 2D array <code>iris_2d</code> by omitting the species text field.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：忽略 species 文本字段，将 1 维 <code>iris_1d</code> 转换成 2 维数组 <code>iris_2d</code>。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_1d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d = np.array([row.tolist()[:<span class="number">4</span>] <span class="keyword">for</span> row <span class="keyword">in</span> iris_1d])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[:<span class="number">3</span>]</span><br><span class="line">array([[<span class="number">5.1</span>, <span class="number">3.5</span>, <span class="number">1.4</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">4.9</span>, <span class="number">3.</span> , <span class="number">1.4</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">4.7</span>, <span class="number">3.2</span>, <span class="number">1.3</span>, <span class="number">0.2</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="28-如何计算-NumPy-数组的平均值、中位数和标准差？"><a href="#28-如何计算-NumPy-数组的平均值、中位数和标准差？" class="headerlink" title="28. 如何计算 NumPy 数组的平均值、中位数和标准差？"></a>28. 如何计算 NumPy 数组的平均值、中位数和标准差？</h1><details>
<summary>English Version</summary>

<p>Title: How to compute the mean, median, standard deviation of a numpy array?</p>
<p>Difficulty: L1</p>
<p>Question: Find the mean, median, standard deviation of iris’s <code>sepal length</code> (1st column).</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：找出 iris <code>sepal length</code>（第一列）的平均值、中位数和标准差。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_1d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sepal_length = np.array([row[<span class="number">0</span>] <span class="keyword">for</span> row <span class="keyword">in</span> iris_1d])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mean, median, std = np.mean(sepal_length), np.median(sepal_length), np.std(sepal_length)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mean, median, std</span><br><span class="line">(<span class="number">5.843333333333334</span>, <span class="number">5.8</span>, <span class="number">0.8253012917851409</span>)</span><br></pre></td></tr></table></figure>

</details>

<h1 id="29-如何归一化数组，使值的范围在-0-和-1-之间？"><a href="#29-如何归一化数组，使值的范围在-0-和-1-之间？" class="headerlink" title="29. 如何归一化数组，使值的范围在 0 和 1 之间？"></a>29. 如何归一化数组，使值的范围在 0 和 1 之间？</h1><details>
<summary>English Version</summary>

<p>Title: How to normalize an array so the values range exactly between 0 and 1?</p>
<p>Difficulty: L2</p>
<p>Question: Create a normalized form of iris’s <code>sepal length</code> whose values range exactly between 0 and 1 so that the minimum has value 0 and maximum has value 1.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：创建 iris <code>sepal length</code> 的归一化格式，使其值在 0 到 1 之间。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line">sepal_length = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">float</span>, usecols=[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>max_value = np.<span class="built_in">max</span>(sepal_length)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>min_value = np.<span class="built_in">min</span>(sepal_length)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sepal_length_nm = (sepal_length - min_value) / (max_value - min_value)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sepal_length_nm[:<span class="number">3</span>]</span><br><span class="line">array([<span class="number">0.22222222</span>, <span class="number">0.16666667</span>, <span class="number">0.11111111</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="30-如何计算-softmax-分数？"><a href="#30-如何计算-softmax-分数？" class="headerlink" title="30. 如何计算 softmax 分数？"></a>30. 如何计算 softmax 分数？</h1><details>
<summary>English Version</summary>

<p>Title: How to compute the softmax score?</p>
<p>Difficulty Level: L3</p>
<p>Question: Compute the softmax score of <code>sepal length</code>.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：计算 <code>sepal length</code> 的 softmax 分数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line">sepal_length = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">float</span>, usecols=[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<p>According formula:</p>
<p>$$<br>S(x_i) &#x3D; \frac{e^{x_i}}{\sum_j e^{x_j}}<br>$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sepal_length_exp = np.exp(sepal_length)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>exp_sum = np.<span class="built_in">sum</span>(sepal_length_exp)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sepal_length_sm = sepal_length_exp / exp_sum</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sepal_length_sm[:<span class="number">5</span>]</span><br><span class="line">array([<span class="number">0.00221959</span>, <span class="number">0.00181724</span>, <span class="number">0.00148783</span>, <span class="number">0.00134625</span>, <span class="number">0.00200836</span>])</span><br></pre></td></tr></table></figure>

<p>For numerical stability, the formula changes to:</p>
<p>$$<br>S(x_i) &#x3D; \frac{e^{(x_i - x_{max})}}{\sum_j e^{(x_j - x_{max})}}<br>$$</p>
<p>where $x_{max} &#x3D; max(x)$.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sepal_length_exp = np.exp(sepal_length - np.<span class="built_in">max</span>(sepal_length))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>exp_sum = np.<span class="built_in">sum</span>(sepal_length_exp)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sepal_length_sm = sepal_length_exp / exp_sum</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sepal_length_sm[:<span class="number">5</span>]</span><br><span class="line">array([<span class="number">0.00221959</span>, <span class="number">0.00181724</span>, <span class="number">0.00148783</span>, <span class="number">0.00134625</span>, <span class="number">0.00200836</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="31-如何找到-NumPy-数组的百分数？"><a href="#31-如何找到-NumPy-数组的百分数？" class="headerlink" title="31. 如何找到 NumPy 数组的百分数？"></a>31. 如何找到 NumPy 数组的百分数？</h1><details>
<summary>English Version</summary>

<p>Title: How to find the percentile scores of a numpy array?</p>
<p>Difficulty Level: L1</p>
<p>Question: Find the 5th and 95th percentile of iris’s <code>sepal length</code>.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：找出 iris <code>sepal length</code>（第一列）的第 5 个和第 95 个百分数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url =  <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line">sepallength = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">float</span>, usecols=[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.percentile(sepallength, [<span class="number">5</span>, <span class="number">95</span>])</span><br><span class="line">array([<span class="number">4.6</span>  , <span class="number">7.255</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="32-如何在数组的随机位置插入值？"><a href="#32-如何在数组的随机位置插入值？" class="headerlink" title="32. 如何在数组的随机位置插入值？"></a>32. 如何在数组的随机位置插入值？</h1><details>
<summary>English Version</summary>

<p>Title: How to insert values at random positions in an array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Insert <code>np.nan</code> values at 20 random positions in <code>iris_2d</code> dataset.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在 <code>iris_2d</code> 数据集中的 20 个随机位置插入 <code>np.nan</code> 值。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>rand_row = np.random.randint(iris_2d.shape[<span class="number">0</span>], size=<span class="number">20</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rand_col = np.random.randint(iris_2d.shape[<span class="number">1</span>], size=<span class="number">20</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[rand_row, rand_col] = np.nan</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[:<span class="number">10</span>]</span><br><span class="line">array([[<span class="string">b&#x27;5.1&#x27;</span>, <span class="string">b&#x27;3.5&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.9&#x27;</span>, <span class="string">b&#x27;3.0&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.7&#x27;</span>, <span class="string">b&#x27;3.2&#x27;</span>, <span class="string">b&#x27;1.3&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.6&#x27;</span>, <span class="string">b&#x27;3.1&#x27;</span>, <span class="string">b&#x27;1.5&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;5.0&#x27;</span>, <span class="string">b&#x27;3.6&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;5.4&#x27;</span>, <span class="string">b&#x27;3.9&#x27;</span>, <span class="string">b&#x27;1.7&#x27;</span>, <span class="string">b&#x27;0.4&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.6&#x27;</span>, <span class="string">b&#x27;3.4&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.3&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;5.0&#x27;</span>, <span class="string">b&#x27;3.4&#x27;</span>, <span class="string">b&#x27;1.5&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.4&#x27;</span>, <span class="string">b&#x27;2.9&#x27;</span>, nan, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.9&#x27;</span>, <span class="string">b&#x27;3.1&#x27;</span>, <span class="string">b&#x27;1.5&#x27;</span>, <span class="string">b&#x27;0.1&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>]], dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>i, j = np.where(iris_2d)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[np.random.choice(i, <span class="number">20</span>), np.random.choice(j, <span class="number">20</span>)] = np.nan</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[:<span class="number">10</span>]</span><br><span class="line">array([[<span class="string">b&#x27;5.1&#x27;</span>, <span class="string">b&#x27;3.5&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.9&#x27;</span>, <span class="string">b&#x27;3.0&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.7&#x27;</span>, <span class="string">b&#x27;3.2&#x27;</span>, <span class="string">b&#x27;1.3&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.6&#x27;</span>, <span class="string">b&#x27;3.1&#x27;</span>, <span class="string">b&#x27;1.5&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;5.0&#x27;</span>, <span class="string">b&#x27;3.6&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;5.4&#x27;</span>, <span class="string">b&#x27;3.9&#x27;</span>, <span class="string">b&#x27;1.7&#x27;</span>, <span class="string">b&#x27;0.4&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.6&#x27;</span>, <span class="string">b&#x27;3.4&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.3&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;5.0&#x27;</span>, <span class="string">b&#x27;3.4&#x27;</span>, <span class="string">b&#x27;1.5&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, nan],</span><br><span class="line">       [<span class="string">b&#x27;4.4&#x27;</span>, <span class="string">b&#x27;2.9&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.9&#x27;</span>, <span class="string">b&#x27;3.1&#x27;</span>, <span class="string">b&#x27;1.5&#x27;</span>, <span class="string">b&#x27;0.1&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>]], dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

</details>

<h1 id="33-如何在-NumPy-数组中找出缺失值的位置？"><a href="#33-如何在-NumPy-数组中找出缺失值的位置？" class="headerlink" title="33. 如何在 NumPy 数组中找出缺失值的位置？"></a>33. 如何在 NumPy 数组中找出缺失值的位置？</h1><details>
<summary>English Version</summary>

<p>Title: How to find the position of missing values in numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Find the number and position of missing values in <code>iris_2d</code>‘s <code>sepal length</code> (1st column).</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在 <code>iris_2d</code> 的 <code>sepal length</code>（第一列）中找出缺失值的数目和位置。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">float</span>, usecols=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># number of nan</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.isnan(iris_2d[:, <span class="number">0</span>]).<span class="built_in">sum</span>()</span><br><span class="line"><span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># index of nan</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.where(np.isnan(iris_2d[:, <span class="number">0</span>]))</span><br><span class="line">(array([ <span class="number">12</span>,  <span class="number">13</span>,  <span class="number">47</span>,  <span class="number">53</span>, <span class="number">143</span>]),)</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>nan_bools = np.isnan(iris_2d[:, <span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># number of nan</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>num_nans = np.<span class="built_in">sum</span>(nan_bools)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>num_nans</span><br><span class="line"><span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># index of nan</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>index = np.arange(<span class="built_in">len</span>(nan_bools))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nan_index = index[nan_bools]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nan_index</span><br><span class="line">array([ <span class="number">12</span>,  <span class="number">13</span>,  <span class="number">47</span>,  <span class="number">53</span>, <span class="number">143</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="34-如何基于两个或以上条件过滤-NumPy-数组？"><a href="#34-如何基于两个或以上条件过滤-NumPy-数组？" class="headerlink" title="34. 如何基于两个或以上条件过滤 NumPy 数组？"></a>34. 如何基于两个或以上条件过滤 NumPy 数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to filter a numpy array based on two or more conditions?</p>
<p>Difficulty Level: L3</p>
<p>Question: Filter the rows of <code>iris_2d</code> that has <code>petal length (3rd column) &gt; 1.5</code> and <code>sepal length (1st column) &lt; 5.0</code>.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：过滤 <code>iris_2d</code> 中满足 <code>petal length（第三列）&gt; 1.5</code> 和 <code>sepal length（第一列）&lt; 5.0</code> 的行。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">float</span>, usecols=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>condition = (iris_2d[:, <span class="number">2</span>] &gt; <span class="number">1.5</span>) &amp; (iris_2d[:, <span class="number">0</span>] &lt; <span class="number">5.0</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[condition]</span><br><span class="line">array([[<span class="number">4.8</span>, <span class="number">3.4</span>, <span class="number">1.6</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">4.8</span>, <span class="number">3.4</span>, <span class="number">1.9</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">4.7</span>, <span class="number">3.2</span>, <span class="number">1.6</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">4.8</span>, <span class="number">3.1</span>, <span class="number">1.6</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">4.9</span>, <span class="number">2.4</span>, <span class="number">3.3</span>, <span class="number">1.</span> ],</span><br><span class="line">       [<span class="number">4.9</span>, <span class="number">2.5</span>, <span class="number">4.5</span>, <span class="number">1.7</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="35-如何在-NumPy-数组中删除包含缺失值的行？"><a href="#35-如何在-NumPy-数组中删除包含缺失值的行？" class="headerlink" title="35. 如何在 NumPy 数组中删除包含缺失值的行？"></a>35. 如何在 NumPy 数组中删除包含缺失值的行？</h1><details>
<summary>English Version</summary>

<p>Title: How to drop rows that contain a missing value from a numpy array?</p>
<p>Difficulty Level: L3:</p>
<p>Question: Select the rows of <code>iris_2d</code> that does not have any <code>nan</code> value.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：选择 <code>iris_2d</code> 中不包含 <code>nan</code> 值的行。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">float</span>, usecols=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[np.<span class="built_in">sum</span>(np.isnan(iris_2d), axis=<span class="number">1</span>) == <span class="number">0</span>][:<span class="number">5</span>]</span><br><span class="line">array([[<span class="number">5.1</span>, <span class="number">3.5</span>, <span class="number">1.4</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">4.7</span>, <span class="number">3.2</span>, <span class="number">1.3</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">4.6</span>, <span class="number">3.1</span>, <span class="number">1.5</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">5.</span> , <span class="number">3.6</span>, <span class="number">1.4</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">5.4</span>, <span class="number">3.9</span>, <span class="number">1.7</span>, <span class="number">0.4</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>any_nan_in_row = np.array([~np.<span class="built_in">any</span>(np.isnan(row)) <span class="keyword">for</span> row <span class="keyword">in</span> iris_2d])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[any_nan_in_row][:<span class="number">5</span>]</span><br><span class="line">array([[<span class="number">5.1</span>, <span class="number">3.5</span>, <span class="number">1.4</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">4.7</span>, <span class="number">3.2</span>, <span class="number">1.3</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">4.6</span>, <span class="number">3.1</span>, <span class="number">1.5</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">5.</span> , <span class="number">3.6</span>, <span class="number">1.4</span>, <span class="number">0.2</span>],</span><br><span class="line">       [<span class="number">5.4</span>, <span class="number">3.9</span>, <span class="number">1.7</span>, <span class="number">0.4</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="36-如何找出-NumPy-数组中两列之间的关联性？"><a href="#36-如何找出-NumPy-数组中两列之间的关联性？" class="headerlink" title="36. 如何找出 NumPy 数组中两列之间的关联性？"></a>36. 如何找出 NumPy 数组中两列之间的关联性？</h1><details>
<summary>English Version</summary>

<p>Title: How to find the correlation between two columns of a numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Find the correlation between <code>sepal length</code>(1st column) and <code>petal length</code>(3rd column) in <code>iris_2d</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：找出 <code>iris_2d</code> 中 <code>sepal length</code>（第一列）和 <code>petal length</code>（第三列）之间的关联性。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">float</span>, usecols=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.corrcoef(iris_2d[:, <span class="number">0</span>], iris_2d[:, <span class="number">2</span>])[<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"><span class="number">0.8717541573048718</span></span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> scipy.stats.stats <span class="keyword">import</span> pearsonr</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>corr, p_value = pearsonr(iris_2d[:, <span class="number">0</span>], iris_2d[:, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>corr</span><br><span class="line"><span class="number">0.8717541573048712</span></span><br></pre></td></tr></table></figure>

</details>

<h1 id="37-如何确定给定数组是否有空值？"><a href="#37-如何确定给定数组是否有空值？" class="headerlink" title="37. 如何确定给定数组是否有空值？"></a>37. 如何确定给定数组是否有空值？</h1><details>
<summary>English Version</summary>

<p>Title: How to find if a given array has any null values?</p>
<p>Difficulty Level: L2</p>
<p>Question: Find out if <code>iris_2d</code> has any missing values.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：确定 <code>iris_2d</code> 是否有缺失值。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">float</span>, usecols=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.<span class="built_in">sum</span>(np.isnan(iris_2d)) &gt; <span class="number">0</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.isnan(iris_2d).<span class="built_in">any</span>()</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

</details>

<h1 id="38-如何在-NumPy-数组中将所有缺失值替换成0？"><a href="#38-如何在-NumPy-数组中将所有缺失值替换成0？" class="headerlink" title="38. 如何在 NumPy 数组中将所有缺失值替换成0？"></a>38. 如何在 NumPy 数组中将所有缺失值替换成0？</h1><details>
<summary>English Version</summary>

<p>Title: How to replace all missing values with 0 in a numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Replace all ccurrences of <code>nan</code> with 0 in numpy array.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在 NumPy 数组中将所有 <code>nan</code> 替换成 0。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">float</span>, usecols=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d[np.isnan(iris_2d)] = <span class="number">0</span></span><br></pre></td></tr></table></figure>

</details>

<h1 id="39-如何在-NumPy-数组中找出唯一值的数量？"><a href="#39-如何在-NumPy-数组中找出唯一值的数量？" class="headerlink" title="39. 如何在 NumPy 数组中找出唯一值的数量？"></a>39. 如何在 NumPy 数组中找出唯一值的数量？</h1><details>
<summary>English Version</summary>

<p>Title: How to find the count of unique values in a numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Find the unique values and the count of unique values in iris’s <code>species</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在 iris 的 <code>species</code> 列中找出唯一值及其数量。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">object</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>names = (<span class="string">&quot;sepallength&quot;</span>, <span class="string">&quot;sepalwidth&quot;</span>, <span class="string">&quot;petallength&quot;</span>, <span class="string">&quot;petalwidth&quot;</span>, <span class="string">&quot;species&quot;</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>unique, counts = np.unique(iris[:, <span class="number">4</span>], return_counts=<span class="literal">True</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>unique</span><br><span class="line">array([<span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-versicolor&#x27;</span>, <span class="string">b&#x27;Iris-virginica&#x27;</span>],</span><br><span class="line">      dtype=<span class="built_in">object</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>counts</span><br><span class="line">array([<span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="40-如何将一个数值转换为一个类别（文本）数组？"><a href="#40-如何将一个数值转换为一个类别（文本）数组？" class="headerlink" title="40. 如何将一个数值转换为一个类别（文本）数组？"></a>40. 如何将一个数值转换为一个类别（文本）数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to convert a numeric to a categorical (text) array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Bin the petal length (3rd) column of <code>iris_2d</code> to form a text array, such that if petal length is:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Less than 3 --&gt; &#x27;small&#x27;</span><br><span class="line">3-5 --&gt; &#x27;medium&#x27;</span><br><span class="line">&gt;=5 --&gt; &#x27;large&#x27;</span><br></pre></td></tr></table></figure>

<hr>
</details>

<p>难度：L2</p>
<p>问题：将 <code>iris_2d</code> 的 petal length（第三列）转换以构建一个文本数组，按如下规则进行转换：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Less than 3 –&gt; &#x27;small&#x27;</span><br><span class="line">3-5 –&gt; &#x27;medium&#x27;</span><br><span class="line">&gt;=5 –&gt; &#x27;large&#x27;</span><br></pre></td></tr></table></figure>

<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">object</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>names = (<span class="string">&quot;sepallength&quot;</span>, <span class="string">&quot;sepalwidth&quot;</span>, <span class="string">&quot;petallength&quot;</span>, <span class="string">&quot;petalwidth&quot;</span>, <span class="string">&quot;species&quot;</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Bin petallength </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_length_bin = np.digitize(iris[:, <span class="number">2</span>].astype(<span class="built_in">float</span>), [<span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Map it to respective category</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>label_map = &#123;<span class="number">1</span>: <span class="string">&quot;small&quot;</span>, <span class="number">2</span>: <span class="string">&quot;medium&quot;</span>, <span class="number">3</span>: <span class="string">&quot;large&quot;</span>, <span class="number">4</span>: np.nan&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_length_cat = [label_map[x] <span class="keyword">for</span> x <span class="keyword">in</span> petal_length_bin]</span><br><span class="line"></span><br><span class="line"><span class="comment"># View</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_length_cat[:<span class="number">4</span>]</span><br><span class="line">[<span class="string">&#x27;small&#x27;</span>, <span class="string">&#x27;small&#x27;</span>, <span class="string">&#x27;small&#x27;</span>, <span class="string">&#x27;small&#x27;</span>]</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_length = iris[:, <span class="number">2</span>].astype(<span class="built_in">float</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_length_cat = np.full(<span class="built_in">len</span>(petal_length), <span class="literal">None</span>,dtype=<span class="built_in">object</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_length_cat[petal_length &lt; <span class="number">3</span>] = <span class="string">&quot;small&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_length_cat[(petal_length &gt;= <span class="number">3</span>) &amp; (petal_length &lt; <span class="number">5</span>)] = <span class="string">&quot;medium&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_length_cat[petal_length &gt;= <span class="number">5</span>] = <span class="string">&quot;large&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_length_cat[:<span class="number">4</span>]</span><br><span class="line">array([<span class="string">&#x27;small&#x27;</span>, <span class="string">&#x27;small&#x27;</span>, <span class="string">&#x27;small&#x27;</span>, <span class="string">&#x27;small&#x27;</span>], dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

</details>

<h1 id="41-如何基于-NumPy-数组现有列创建一个新的列？"><a href="#41-如何基于-NumPy-数组现有列创建一个新的列？" class="headerlink" title="41. 如何基于 NumPy 数组现有列创建一个新的列？"></a>41. 如何基于 NumPy 数组现有列创建一个新的列？</h1><details>
<summary>English Version</summary>

<p>Title: How to create a new column from existing columns of a numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Create a new column for volume in <code>iris_2d</code>, where volume is <code>(pi x petallength x sepal_length^2)/3</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：为 <code>iris_2d</code> 中的 volume 列创建一个新的列，volume 指 <code>(pi x petal_length x sepal_length^2)/3</code>。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_2d = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">object</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>names = (<span class="string">&quot;sepallength&quot;</span>, <span class="string">&quot;sepalwidth&quot;</span>, <span class="string">&quot;petallength&quot;</span>, <span class="string">&quot;petalwidth&quot;</span>, <span class="string">&quot;species&quot;</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>volume = (np.pi * iris_2d[:, <span class="number">2</span>].astype(<span class="built_in">float</span>) * (iris_2d[:, <span class="number">0</span>].astype(<span class="built_in">float</span>))**<span class="number">2</span>) / <span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = np.c_[iris_2d, volume]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out[:<span class="number">4</span>]</span><br><span class="line">array([[<span class="string">b&#x27;5.1&#x27;</span>, <span class="string">b&#x27;3.5&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>,</span><br><span class="line">        <span class="number">38.13265162927291</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.9&#x27;</span>, <span class="string">b&#x27;3.0&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>,</span><br><span class="line">        <span class="number">35.200498485922445</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.7&#x27;</span>, <span class="string">b&#x27;3.2&#x27;</span>, <span class="string">b&#x27;1.3&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="number">30.0723720777127</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.6&#x27;</span>, <span class="string">b&#x27;3.1&#x27;</span>, <span class="string">b&#x27;1.5&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>,</span><br><span class="line">        <span class="number">33.238050274980004</span>]], dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Compute volume</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sepal_length = iris_2d[:, <span class="number">0</span>].astype(<span class="string">&#x27;float&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_length = iris_2d[:, <span class="number">2</span>].astype(<span class="string">&#x27;float&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>volume = (np.pi * petal_length * (sepal_length**<span class="number">2</span>))/<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Introduce new dimension to match iris_2d&#x27;s</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>volume = volume[:, np.newaxis]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add the new column</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = np.hstack([iris_2d, volume])</span><br><span class="line"></span><br><span class="line"><span class="comment"># View</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out[:<span class="number">4</span>]</span><br><span class="line">array([[<span class="string">b&#x27;5.1&#x27;</span>, <span class="string">b&#x27;3.5&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>,</span><br><span class="line">        <span class="number">38.13265162927291</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.9&#x27;</span>, <span class="string">b&#x27;3.0&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>,</span><br><span class="line">        <span class="number">35.200498485922445</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.7&#x27;</span>, <span class="string">b&#x27;3.2&#x27;</span>, <span class="string">b&#x27;1.3&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="number">30.0723720777127</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.6&#x27;</span>, <span class="string">b&#x27;3.1&#x27;</span>, <span class="string">b&#x27;1.5&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>,</span><br><span class="line">        <span class="number">33.238050274980004</span>]], dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

</details>

<h1 id="42-如何在-NumPy-中执行概率采样？"><a href="#42-如何在-NumPy-中执行概率采样？" class="headerlink" title="42. 如何在 NumPy 中执行概率采样？"></a>42. 如何在 NumPy 中执行概率采样？</h1><details>
<summary>English Version</summary>

<p>Title: How to do probabilistic sampling in numpy?</p>
<p>Difficulty Level: L3</p>
<p>Question: Randomly sample iris’s <code>species</code> such that <code>setosa</code> is twice the number of <code>versicolor</code> and <code>virginica</code>.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：随机采样 iris 数据集中的 <code>species</code> 列，使得 <code>setosa</code> 的数量是 <code>versicolor</code> 和 <code>virginica</code> 数量的两倍。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import iris keeping the text column intact</span></span><br><span class="line">url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Get the species column</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species = iris[:, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Probablistic Sampling</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>probs = np.r_[np.linspace(<span class="number">0</span>, <span class="number">0.500</span>, num=<span class="number">50</span>), np.linspace(<span class="number">0.501</span>, <span class="number">0.750</span>, num=<span class="number">50</span>), np.linspace(<span class="number">0.751</span>, <span class="number">1.0</span>, num=<span class="number">50</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>index = np.searchsorted(probs, np.random.random(<span class="number">150</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species_out = species[index]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.unique(species_out, return_counts=<span class="literal">True</span>)</span><br><span class="line">(array([<span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="string">b&#x27;Iris-versicolor&#x27;</span>, <span class="string">b&#x27;Iris-virginica&#x27;</span>],</span><br><span class="line">      dtype=<span class="built_in">object</span>), array([<span class="number">77</span>, <span class="number">37</span>, <span class="number">36</span>]))</span><br></pre></td></tr></table></figure>

</details>

<h1 id="43-如何在多维数组中找到一维的第二最大值？"><a href="#43-如何在多维数组中找到一维的第二最大值？" class="headerlink" title="43. 如何在多维数组中找到一维的第二最大值？"></a>43. 如何在多维数组中找到一维的第二最大值？</h1><details>
<summary>English Version</summary>

<p>Title: How to get the second largest value of an array when grouped by another array?</p>
<p>Difficulty Level: L2</p>
<p>Question: What is the value of second longest <code>petal length</code> of species <code>setosa</code></p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在 species <code>setosa</code> 的 <code>petal length</code> 列中找到第二最大值。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">object</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>names = (<span class="string">&quot;sepallength&quot;</span>, <span class="string">&quot;sepalwidth&quot;</span>, <span class="string">&quot;petallength&quot;</span>, <span class="string">&quot;petalwidth&quot;</span>, <span class="string">&quot;species&quot;</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_setosa = iris[iris[:, <span class="number">4</span>] == <span class="string">b&quot;Iris-setosa&quot;</span>, :]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>petal_len_setosa = iris_setosa[:, <span class="number">2</span>].astype(<span class="built_in">float</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>second_large = np.sort(np.unique(petal_len_setosa))[-<span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>second_large</span><br><span class="line"><span class="number">1.7</span></span><br></pre></td></tr></table></figure>

</details>

<h1 id="44-如何用给定列将-2-维数组排序？"><a href="#44-如何用给定列将-2-维数组排序？" class="headerlink" title="44. 如何用给定列将 2 维数组排序？"></a>44. 如何用给定列将 2 维数组排序？</h1><details>
<summary>English Version</summary>

<p>Title: How to sort a 2D array by a column</p>
<p>Difficulty Level: L2</p>
<p>Question: Sort the iris dataset based on <code>sepal length</code> column.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：基于 <code>sepal length</code> 列将 iris 数据集排序。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">object</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>names = (<span class="string">&quot;sepallength&quot;</span>, <span class="string">&quot;sepalwidth&quot;</span>, <span class="string">&quot;petallength&quot;</span>, <span class="string">&quot;petalwidth&quot;</span>, <span class="string">&quot;species&quot;</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>index = np.argsort(iris[:, <span class="number">0</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_sort = iris[index]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris_sort[:<span class="number">10</span>]</span><br><span class="line">array([[<span class="string">b&#x27;4.3&#x27;</span>, <span class="string">b&#x27;3.0&#x27;</span>, <span class="string">b&#x27;1.1&#x27;</span>, <span class="string">b&#x27;0.1&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.4&#x27;</span>, <span class="string">b&#x27;3.2&#x27;</span>, <span class="string">b&#x27;1.3&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.4&#x27;</span>, <span class="string">b&#x27;3.0&#x27;</span>, <span class="string">b&#x27;1.3&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.4&#x27;</span>, <span class="string">b&#x27;2.9&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.5&#x27;</span>, <span class="string">b&#x27;2.3&#x27;</span>, <span class="string">b&#x27;1.3&#x27;</span>, <span class="string">b&#x27;0.3&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.6&#x27;</span>, <span class="string">b&#x27;3.6&#x27;</span>, <span class="string">b&#x27;1.0&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.6&#x27;</span>, <span class="string">b&#x27;3.1&#x27;</span>, <span class="string">b&#x27;1.5&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.6&#x27;</span>, <span class="string">b&#x27;3.4&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.3&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.6&#x27;</span>, <span class="string">b&#x27;3.2&#x27;</span>, <span class="string">b&#x27;1.4&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>],</span><br><span class="line">       [<span class="string">b&#x27;4.7&#x27;</span>, <span class="string">b&#x27;3.2&#x27;</span>, <span class="string">b&#x27;1.3&#x27;</span>, <span class="string">b&#x27;0.2&#x27;</span>, <span class="string">b&#x27;Iris-setosa&#x27;</span>]], dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

</details>

<h1 id="45-如何在-NumPy-数组中找到最频繁出现的值？"><a href="#45-如何在-NumPy-数组中找到最频繁出现的值？" class="headerlink" title="45. 如何在 NumPy 数组中找到最频繁出现的值？"></a>45. 如何在 NumPy 数组中找到最频繁出现的值？</h1><details>
<summary>English Version</summary>

<p>Title: How to find the most frequent value in a numpy array?</p>
<p>Difficulty Level: L1</p>
<p>Question: Find the most frequent value of <code>petal length</code> (3rd column) in iris dataset.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：在 iris 数据集中找到 <code>petal length</code>（第三列）中最频繁出现的值。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype= <span class="built_in">object</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>names = (<span class="string">&quot;sepallength&quot;</span>, <span class="string">&quot;sepalwidth&quot;</span>, <span class="string">&quot;petallength&quot;</span>, <span class="string">&quot;petalwidth&quot;</span>, <span class="string">&quot;species&quot;</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>uniques, counts = np.unique(iris[:, <span class="number">2</span>], return_counts=<span class="literal">True</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>uniques[np.argmax(counts)]</span><br><span class="line"><span class="string">b&#x27;1.5&#x27;</span></span><br></pre></td></tr></table></figure>

</details>

<h1 id="46-如何找到第一个大于给定值的数的位置？"><a href="#46-如何找到第一个大于给定值的数的位置？" class="headerlink" title="46. 如何找到第一个大于给定值的数的位置？"></a>46. 如何找到第一个大于给定值的数的位置？</h1><details>
<summary>English Version</summary>

<p>Title: How to find the position of the first occurrence of a value greater than a given value?</p>
<p>Difficulty Level: L2</p>
<p>Question: Find the position of the first occurrence of a value greater than 1.0 in <code>petal width</code> 4th column of iris dataset.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在 iris 数据集的 <code>petal width</code>（第四列）中找到第一个值大于 1.0 的数的位置。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>iris = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.argwhere(iris[:, <span class="number">3</span>].astype(<span class="built_in">float</span>) &gt; <span class="number">1.0</span>)[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"><span class="number">50</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.where(iris[:, <span class="number">3</span>].astype(<span class="built_in">float</span>) &gt; <span class="number">1.0</span>)[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"><span class="number">50</span></span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>index = np.arange(<span class="built_in">len</span>(iris))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>index = index[iris[:, <span class="number">3</span>].astype(<span class="built_in">float</span>) &gt; <span class="number">1.0</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>index[<span class="number">0</span>]</span><br><span class="line"><span class="number">50</span></span><br></pre></td></tr></table></figure>

</details>

<h1 id="47-如何将数组中所有大于给定值的数替换为给定的-cutoff-值？"><a href="#47-如何将数组中所有大于给定值的数替换为给定的-cutoff-值？" class="headerlink" title="47. 如何将数组中所有大于给定值的数替换为给定的 cutoff 值？"></a>47. 如何将数组中所有大于给定值的数替换为给定的 cutoff 值？</h1><details>
<summary>English Version</summary>

<p>Title: How to replace all values greater than a given value to a given cutoff?</p>
<p>Difficulty Level: L2</p>
<p>Question: From the array <code>a</code>, replace all values greater than 30 to 30 and less than 10 to 10.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：对于数组 <code>a</code>，将所有大于 30 的值替换为 30，将所有小于 10 的值替换为 10。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.random.uniform(<span class="number">1</span>, <span class="number">50</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Cutoff in-place</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[a &gt; <span class="number">30</span>] = <span class="number">30</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[a &lt; <span class="number">10</span>] = <span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[:<span class="number">5</span>]</span><br><span class="line">array([<span class="number">27.62684215</span>, <span class="number">14.64009987</span>, <span class="number">21.80136195</span>, <span class="number">30.</span>        , <span class="number">10.</span>        ])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_cutoff = np.clip(a, a_min=<span class="number">10</span>, a_max=<span class="number">30</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_cutoff[:<span class="number">5</span>]</span><br><span class="line">array([<span class="number">27.62684215</span>, <span class="number">14.64009987</span>, <span class="number">21.80136195</span>, <span class="number">30.</span>        , <span class="number">10.</span>        ])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 3</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_cutoff = np.where(a &lt; <span class="number">10</span>, <span class="number">10</span>, np.where(a &gt; <span class="number">30</span>, <span class="number">30</span>, a))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_cutoff[:<span class="number">5</span>]</span><br><span class="line">array([<span class="number">27.62684215</span>, <span class="number">14.64009987</span>, <span class="number">21.80136195</span>, <span class="number">30.</span>        , <span class="number">10.</span>        ])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="48-如何在-NumPy-数组中找到-top-n-数值的位置？"><a href="#48-如何在-NumPy-数组中找到-top-n-数值的位置？" class="headerlink" title="48. 如何在 NumPy 数组中找到 top-n 数值的位置？"></a>48. 如何在 NumPy 数组中找到 top-n 数值的位置？</h1><details>
<summary>English Version</summary>

<p>Title: How to get the positions of top n values from a numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Get the positions of top 5 maximum values in a given array <code>a</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在给定数组 <code>a</code> 中找到 top-5 最大值的位置。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.random.uniform(<span class="number">1</span>, <span class="number">50</span>, <span class="number">20</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">27.62684215</span>, <span class="number">14.64009987</span>, <span class="number">21.80136195</span>, <span class="number">42.39403048</span>,  <span class="number">1.23122395</span>,</span><br><span class="line">        <span class="number">6.95688692</span>, <span class="number">33.86670515</span>, <span class="number">41.466785</span>  ,  <span class="number">7.69862289</span>, <span class="number">29.17957314</span>,</span><br><span class="line">       <span class="number">44.67477576</span>, <span class="number">11.25090398</span>, <span class="number">10.08108276</span>,  <span class="number">6.31046763</span>, <span class="number">11.76517714</span>,</span><br><span class="line">       <span class="number">48.95256545</span>, <span class="number">40.77247431</span>,  <span class="number">9.42510962</span>, <span class="number">40.99501269</span>, <span class="number">14.42961361</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>index = np.argsort(a)[::-<span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>index[:<span class="number">5</span>]</span><br><span class="line">array([<span class="number">15</span>, <span class="number">10</span>,  <span class="number">3</span>,  <span class="number">7</span>, <span class="number">18</span>])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Assume each element in array `a` is nonnegative</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>index = np.argpartition(-a, <span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>index[:<span class="number">5</span>]</span><br><span class="line">array([<span class="number">15</span>, <span class="number">10</span>,  <span class="number">3</span>,  <span class="number">7</span>, <span class="number">18</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="49-如何逐行计算数组中所有值的数量？"><a href="#49-如何逐行计算数组中所有值的数量？" class="headerlink" title="49. 如何逐行计算数组中所有值的数量？"></a>49. 如何逐行计算数组中所有值的数量？</h1><details>
<summary>English Version</summary>

<p>Title: How to compute the row wise counts of all possible values in an array?</p>
<p>Difficulty Level: L4</p>
<p>Question: Compute the counts of unique values row-wise.</p>
<hr>
</details>

<p>难度：L4</p>
<p>问题：逐行计算唯一值的数量。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.random.randint(<span class="number">1</span>, <span class="number">11</span>, size=(<span class="number">6</span>, <span class="number">10</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([[ <span class="number">9</span>,  <span class="number">9</span>,  <span class="number">4</span>,  <span class="number">8</span>,  <span class="number">8</span>,  <span class="number">1</span>,  <span class="number">5</span>,  <span class="number">3</span>,  <span class="number">6</span>,  <span class="number">3</span>],</span><br><span class="line">       [ <span class="number">3</span>,  <span class="number">3</span>,  <span class="number">2</span>,  <span class="number">1</span>,  <span class="number">9</span>,  <span class="number">5</span>,  <span class="number">1</span>, <span class="number">10</span>,  <span class="number">7</span>,  <span class="number">3</span>],</span><br><span class="line">       [ <span class="number">5</span>,  <span class="number">2</span>,  <span class="number">6</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">5</span>,  <span class="number">4</span>,  <span class="number">8</span>,  <span class="number">2</span>,  <span class="number">2</span>],</span><br><span class="line">       [ <span class="number">8</span>,  <span class="number">8</span>,  <span class="number">1</span>,  <span class="number">3</span>, <span class="number">10</span>, <span class="number">10</span>,  <span class="number">4</span>,  <span class="number">3</span>,  <span class="number">6</span>,  <span class="number">9</span>],</span><br><span class="line">       [ <span class="number">2</span>,  <span class="number">1</span>,  <span class="number">8</span>,  <span class="number">7</span>,  <span class="number">3</span>,  <span class="number">1</span>,  <span class="number">9</span>,  <span class="number">3</span>,  <span class="number">6</span>,  <span class="number">2</span>],</span><br><span class="line">       [ <span class="number">9</span>,  <span class="number">2</span>,  <span class="number">6</span>,  <span class="number">5</span>,  <span class="number">3</span>,  <span class="number">9</span>,  <span class="number">4</span>,  <span class="number">6</span>,  <span class="number">1</span>, <span class="number">10</span>]])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>],</span><br><span class="line"> [<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line"> [<span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line"> [<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line"> [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line"> [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>]]</span><br></pre></td></tr></table></figure>

<p>输出包含 10 个列，表示从 1 到 10 的数字。这些数值分别代表每一行的计数数量。例如，Cell(0, 2) 中有值 2，这意味着，数字 3 在第一行出现了两次。</p>
<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Assume each number is in [1, 10]</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>results = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> row <span class="keyword">in</span> arr:</span><br><span class="line"><span class="meta">... </span>    uniques, counts = np.unique(row, return_counts=<span class="literal">True</span>)</span><br><span class="line"><span class="meta">... </span>    zeros = np.zeros(<span class="number">10</span>, dtype=<span class="built_in">int</span>)</span><br><span class="line"><span class="meta">... </span>    zeros[uniques-<span class="number">1</span>] = counts</span><br><span class="line"><span class="meta">... </span>    results.append(zeros.tolist())</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.array(results)</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># More general</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">counts_of_all_values_rowwise</span>(<span class="params">arr2d</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="comment"># Unique values and its counts row wise</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span>([[<span class="built_in">int</span>(b[a==i]) <span class="keyword">if</span> i <span class="keyword">in</span> a <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> np.unique(arr2d)] <span class="keyword">for</span> a, b <span class="keyword">in</span> num_counts_array])</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.array(counts_of_all_values_rowwise(arr))</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="50-如何将-array-of-arrays-转换为平面-1-维数组？"><a href="#50-如何将-array-of-arrays-转换为平面-1-维数组？" class="headerlink" title="50. 如何将 array_of_arrays 转换为平面 1 维数组？"></a>50. 如何将 array_of_arrays 转换为平面 1 维数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to convert an array of arrays into a flat 1d array?</p>
<p>Difficulty Level: 2</p>
<p>Question: Convert <code>array_of_arrays</code> into a flat linear 1d array.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：将 <code>array_of_arrays</code> 转换为平面线性 1 维数组。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr1 = np.arange(<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr2 = np.arange(<span class="number">3</span>, <span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr3 = np.arange(<span class="number">7</span>, <span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>array_of_arrays = np.array([arr1, arr2, arr3])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>array_of_arrays</span><br><span class="line">array([array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]), array([<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]), array([<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])],</span><br><span class="line">      dtype=<span class="built_in">object</span>)</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr2d = np.concatenate([arr <span class="keyword">for</span> arr <span class="keyword">in</span> array_of_arrays])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr2d</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr2d = np.array([a <span class="keyword">for</span> arr <span class="keyword">in</span> array_of_arrays <span class="keyword">for</span> a <span class="keyword">in</span> arr])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr2d</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="51-如何为-NumPy-数组生成-one-hot-编码？"><a href="#51-如何为-NumPy-数组生成-one-hot-编码？" class="headerlink" title="51. 如何为 NumPy 数组生成 one-hot 编码？"></a>51. 如何为 NumPy 数组生成 one-hot 编码？</h1><details>
<summary>English Version</summary>

<p>Title: How to generate one-hot encodings for an array in numpy?</p>
<p>Difficulty Level L4</p>
<p>Question: Compute the one-hot encodings (dummy binary variables for each unique value in the array).</p>
<hr>
</details>

<p>难度：L4</p>
<p>问题：计算 one-hot 编码。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">101</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.random.randint(<span class="number">1</span>, <span class="number">4</span>, size=<span class="number">6</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">array([[<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr_shift = arr - <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>one_hot = np.eye(<span class="number">3</span>)[arr_shift]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>one_hot</span><br><span class="line">array([[<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">one_hot_encodings</span>(<span class="params">arr</span>):</span><br><span class="line"><span class="meta">... </span>    uniqs = np.unique(arr)</span><br><span class="line"><span class="meta">... </span>    out = np.zeros((arr.shape[<span class="number">0</span>], uniqs.shape[<span class="number">0</span>]))</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">for</span> i, k <span class="keyword">in</span> <span class="built_in">enumerate</span>(arr):</span><br><span class="line"><span class="meta">... </span>        out[i, k-<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> out</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>one_hot_encodings(arr)</span><br><span class="line">array([[<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="52-如何创建由类别变量分组确定的一维数值？"><a href="#52-如何创建由类别变量分组确定的一维数值？" class="headerlink" title="52. 如何创建由类别变量分组确定的一维数值？"></a>52. 如何创建由类别变量分组确定的一维数值？</h1><details>
<summary>English Version</summary>

<p>Title: How to create row numbers grouped by a categorical variable?</p>
<p>Difficulty Level: L3</p>
<p>Question: Create row numbers grouped by a categorical variable. Use the following sample from iris <code>species</code> as input.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：创建由类别变量分组的行数。使用以下来自 iris <code>species</code> 的样本作为输入。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">str</span>, usecols=<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species_small = np.sort(np.random.choice(species, size=<span class="number">20</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species_small</span><br><span class="line">array([<span class="string">&#x27;Iris-setosa&#x27;</span>, <span class="string">&#x27;Iris-setosa&#x27;</span>, <span class="string">&#x27;Iris-setosa&#x27;</span>, <span class="string">&#x27;Iris-setosa&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-setosa&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-virginica&#x27;</span>, <span class="string">&#x27;Iris-virginica&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-virginica&#x27;</span>, <span class="string">&#x27;Iris-virginica&#x27;</span>, <span class="string">&#x27;Iris-virginica&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-virginica&#x27;</span>], dtype=<span class="string">&#x27;&lt;U15&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>groups = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> val <span class="keyword">in</span> np.unique(species_small):</span><br><span class="line"><span class="meta">... </span>    groups.append(np.arange(<span class="built_in">len</span>(species_small[species_small == val])))</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.concatenate(groups).tolist()</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[i <span class="keyword">for</span> val <span class="keyword">in</span> np.unique(species_small) <span class="keyword">for</span> i, grp <span class="keyword">in</span> <span class="built_in">enumerate</span>(species_small[species_small==val])]</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

</details>

<h1 id="53-如何基于给定的类别变量创建分组-id？"><a href="#53-如何基于给定的类别变量创建分组-id？" class="headerlink" title="53. 如何基于给定的类别变量创建分组 id？"></a>53. 如何基于给定的类别变量创建分组 id？</h1><details>
<summary>English Version</summary>

<p>Title: How to create groud ids based on a given categorical variable?</p>
<p>Difficulty Level: L4</p>
<p>Question: Create group ids based on a given categorical variable. Use the following sample from iris <code>species</code> as input.</p>
<hr>
</details>

<p>难度：L4</p>
<p>问题：基于给定的类别变量创建分组 id。使用以下来自 iris <code>species</code> 的样本作为输入。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">str</span>, usecols=<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species_small = np.sort(np.random.choice(species, size=<span class="number">20</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>species_small</span><br><span class="line">array([<span class="string">&#x27;Iris-setosa&#x27;</span>, <span class="string">&#x27;Iris-setosa&#x27;</span>, <span class="string">&#x27;Iris-setosa&#x27;</span>, <span class="string">&#x27;Iris-setosa&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-setosa&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-versicolor&#x27;</span>, <span class="string">&#x27;Iris-virginica&#x27;</span>, <span class="string">&#x27;Iris-virginica&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-virginica&#x27;</span>, <span class="string">&#x27;Iris-virginica&#x27;</span>, <span class="string">&#x27;Iris-virginica&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;Iris-virginica&#x27;</span>], dtype=<span class="string">&#x27;&lt;U15&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>output = np.full(<span class="built_in">len</span>(species_small), <span class="number">0</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>uniques = np.unique(species_small)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> val <span class="keyword">in</span> uniques:</span><br><span class="line"><span class="meta">... </span>    group_id = np.where(uniques == val)[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"><span class="meta">... </span>    output[species_small == val] = group_id</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>output.tolist()</span><br><span class="line">[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure>

</details>

<h1 id="54-如何使用-NumPy-对数组中的项进行排序？"><a href="#54-如何使用-NumPy-对数组中的项进行排序？" class="headerlink" title="54. 如何使用 NumPy 对数组中的项进行排序？"></a>54. 如何使用 NumPy 对数组中的项进行排序？</h1><details>
<summary>English Version</summary>

<p>Title: How to rank items in an array using numpy?</p>
<p>Difficulty Level: L2</p>
<p>Question: Create the ranks for the given numeric array <code>a</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：为给定的数值数组 <code>a</code> 创建排序。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.random.randint(<span class="number">20</span>, size=<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([ <span class="number">9</span>,  <span class="number">4</span>, <span class="number">15</span>,  <span class="number">0</span>, <span class="number">17</span>, <span class="number">16</span>, <span class="number">17</span>,  <span class="number">8</span>,  <span class="number">9</span>,  <span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">4</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.argsort(np.argsort(a))</span><br><span class="line">array([<span class="number">4</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="55-如何使用-NumPy-对多维数组中的项进行排序？"><a href="#55-如何使用-NumPy-对多维数组中的项进行排序？" class="headerlink" title="55. 如何使用 NumPy 对多维数组中的项进行排序？"></a>55. 如何使用 NumPy 对多维数组中的项进行排序？</h1><details>
<summary>English Version</summary>

<p>Title: How to rank items in a multidimensional array using numpy?</p>
<p>Difficulty Level: L3</p>
<p>Question: Create a rank array of the same shape as a given numeric array <code>a</code>.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：给出一个数值数组 <code>a</code>，创建一个形态相同的排序数组。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.random.randint(<span class="number">20</span>, size=[<span class="number">2</span>, <span class="number">5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[ <span class="number">9</span>,  <span class="number">4</span>, <span class="number">15</span>,  <span class="number">0</span>, <span class="number">17</span>],</span><br><span class="line">       [<span class="number">16</span>, <span class="number">17</span>,  <span class="number">8</span>,  <span class="number">9</span>,  <span class="number">0</span>]])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array([[<span class="number">4</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_flat = a.flatten()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sort_idx = np.argsort(np.argsort(a_flat))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sort_idx.reshape((<span class="number">2</span>, -<span class="number">1</span>))</span><br><span class="line">array([[<span class="number">4</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.ravel().argsort().argsort().reshape(a.shape)</span><br><span class="line">array([[<span class="number">4</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="56-如何在-2-维-NumPy-数组中找到每一行的最大值？"><a href="#56-如何在-2-维-NumPy-数组中找到每一行的最大值？" class="headerlink" title="56. 如何在 2 维 NumPy 数组中找到每一行的最大值？"></a>56. 如何在 2 维 NumPy 数组中找到每一行的最大值？</h1><details>
<summary>English Version</summary>

<p>Title: How to find the maximum value in each row of a numpy array 2d?</p>
<p>Difficulty Level: L2</p>
<p>Question: Compute the maximum for each row in the given array.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：在给定数组中找到每一行的最大值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, [<span class="number">5</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[<span class="number">9</span>, <span class="number">9</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">8</span>, <span class="number">8</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">3</span>, <span class="number">6</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.amax(a, axis=<span class="number">1</span>)</span><br><span class="line">array([<span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.apply_along_axis(np.<span class="built_in">max</span>, arr=a, axis=<span class="number">1</span>)</span><br><span class="line">array([<span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="57-如何计算-2-维-NumPy-数组每一行的-min-by-max？"><a href="#57-如何计算-2-维-NumPy-数组每一行的-min-by-max？" class="headerlink" title="57. 如何计算 2 维 NumPy 数组每一行的 min-by-max？"></a>57. 如何计算 2 维 NumPy 数组每一行的 min-by-max？</h1><details>
<summary>English Version</summary>

<p>Title: How to compute the min-by-max for each row for a numpy array 2d?</p>
<p>Difficulty Level: L3</p>
<p>Question: Compute the min-by-max for each row for given 2d numpy array.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：给定一个 2 维 NumPy 数组，计算每一行的 min-by-max。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.random.randint(<span class="number">1</span>, <span class="number">10</span>, [<span class="number">5</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[<span class="number">9</span>, <span class="number">9</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">8</span>, <span class="number">8</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">3</span>, <span class="number">6</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.apply_along_axis(<span class="keyword">lambda</span> x: np.<span class="built_in">min</span>(x)/np.<span class="built_in">max</span>(x), axis=<span class="number">1</span>, arr=a)</span><br><span class="line">array([<span class="number">0.44444444</span>, <span class="number">0.125</span>     , <span class="number">0.5</span>       , <span class="number">1.</span>        , <span class="number">0.11111111</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="58-如何在-NumPy-数组中找到重复条目？"><a href="#58-如何在-NumPy-数组中找到重复条目？" class="headerlink" title="58. 如何在 NumPy 数组中找到重复条目？"></a>58. 如何在 NumPy 数组中找到重复条目？</h1><details>
<summary>English Version</summary>

<p>Title: How to find the duplicate records in a numpy array?</p>
<p>Difficulty Level: L3</p>
<p>Question: Find the duplicate entries (2nd occurrence onwards) in the given numpy array and mark them as <code>True</code>. First time occurrences should be <code>False</code>.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：在给定的 NumPy 数组中找到重复条目（从第二次出现开始），并将其标记为 <code>True</code>。第一次出现的条目需要标记为 <code>False</code>。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.random.randint(<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="literal">False</span>,  <span class="literal">True</span>, <span class="literal">False</span>,  <span class="literal">True</span>, <span class="literal">False</span>, <span class="literal">False</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,</span><br><span class="line">        <span class="literal">True</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = np.full(a.shape[<span class="number">0</span>], <span class="literal">True</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>unique_positions = np.unique(a, return_index=<span class="literal">True</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out[unique_positions] = <span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out</span><br><span class="line">array([<span class="literal">False</span>,  <span class="literal">True</span>, <span class="literal">False</span>,  <span class="literal">True</span>, <span class="literal">False</span>, <span class="literal">False</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,  <span class="literal">True</span>,</span><br><span class="line">        <span class="literal">True</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="59-如何找到-NumPy-的分组平均值？"><a href="#59-如何找到-NumPy-的分组平均值？" class="headerlink" title="59. 如何找到 NumPy 的分组平均值？"></a>59. 如何找到 NumPy 的分组平均值？</h1><details>
<summary>English Version</summary>

<p>Title: How to find the grouped mean in numpy?</p>
<p>Difficulty Level L3</p>
<p>Question: Find the mean of a numeric column grouped by a categorical column in a 2D numpy array.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：在 2 维 NumPy 数组的类别列中找到数值 <code>sepal length</code> 的平均值。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">&quot;https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data&quot;</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">&quot;,&quot;</span>, dtype=<span class="built_in">object</span>)</span><br><span class="line">names = (<span class="string">&quot;sepallength&quot;</span>, <span class="string">&quot;sepalwidth&quot;</span>, <span class="string">&quot;petallength&quot;</span>, <span class="string">&quot;petalwidth&quot;</span>, <span class="string">&quot;species&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="number">3.418</span>],</span><br><span class="line"> [<span class="string">b&#x27;Iris-versicolor&#x27;</span>, <span class="number">2.770</span>],</span><br><span class="line"> [<span class="string">b&#x27;Iris-virginica&#x27;</span>, <span class="number">2.974</span>]]</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>uniques = np.unique(iris[:, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>output = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> v <span class="keyword">in</span> uniques:</span><br><span class="line"><span class="meta">... </span>    group = iris[iris[:, <span class="number">4</span>] == v]</span><br><span class="line"><span class="meta">... </span>    output.append([v, np.mean(group[:, <span class="number">1</span>].astype(<span class="built_in">float</span>))])</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>output</span><br><span class="line">[[<span class="string">b&#x27;Iris-setosa&#x27;</span>, <span class="number">3.418</span>], [<span class="string">b&#x27;Iris-versicolor&#x27;</span>, <span class="number">2.7700000000000005</span>], [<span class="string">b&#x27;Iris-virginica&#x27;</span>, <span class="number">2.974</span>]]</span><br></pre></td></tr></table></figure>

</details>

<h1 id="60-如何将-PIL-图像转换成-NumPy-数组？"><a href="#60-如何将-PIL-图像转换成-NumPy-数组？" class="headerlink" title="60. 如何将 PIL 图像转换成 NumPy 数组？"></a>60. 如何将 PIL 图像转换成 NumPy 数组？</h1><details>
<summary>English Version</summary>

<p>Title: How to convert a PIL image to numpy array?</p>
<p>Difficulty Level: L3</p>
<p>Question: Import the image from the following url and convert it to a numpy array.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：从以下 url 中导入图像，并将其转换成 NumPy 数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>url = <span class="string">&quot;https://upload.wikimedia.org/wikipedia/commons/8/8b/Denali_Mt_McKinley.jpg&quot;</span></span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> requests</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>response = requests.get(url)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>img = Image.<span class="built_in">open</span>(BytesIO(response.content))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>img_arr = np.asarray(img)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>img_arr[:<span class="number">5</span>, :<span class="number">5</span>]</span><br><span class="line">array([[[  <span class="number">9</span>,  <span class="number">72</span>, <span class="number">125</span>],</span><br><span class="line">        [  <span class="number">9</span>,  <span class="number">72</span>, <span class="number">125</span>],</span><br><span class="line">        [  <span class="number">9</span>,  <span class="number">72</span>, <span class="number">125</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>]],</span><br><span class="line"></span><br><span class="line">       [[  <span class="number">9</span>,  <span class="number">72</span>, <span class="number">125</span>],</span><br><span class="line">        [  <span class="number">9</span>,  <span class="number">72</span>, <span class="number">125</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>]],</span><br><span class="line"></span><br><span class="line">       [[  <span class="number">9</span>,  <span class="number">72</span>, <span class="number">125</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">11</span>,  <span class="number">74</span>, <span class="number">127</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">11</span>,  <span class="number">74</span>, <span class="number">127</span>],</span><br><span class="line">        [ <span class="number">11</span>,  <span class="number">74</span>, <span class="number">127</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">10</span>,  <span class="number">73</span>, <span class="number">126</span>],</span><br><span class="line">        [ <span class="number">11</span>,  <span class="number">74</span>, <span class="number">127</span>],</span><br><span class="line">        [ <span class="number">11</span>,  <span class="number">74</span>, <span class="number">127</span>],</span><br><span class="line">        [ <span class="number">11</span>,  <span class="number">74</span>, <span class="number">127</span>]]], dtype=uint8)</span><br></pre></td></tr></table></figure>

</details>

<h1 id="61-如何删除-NumPy-数组中所有的缺失值？"><a href="#61-如何删除-NumPy-数组中所有的缺失值？" class="headerlink" title="61. 如何删除 NumPy 数组中所有的缺失值？"></a>61. 如何删除 NumPy 数组中所有的缺失值？</h1><details>
<summary>English Version</summary>

<p>Title: How to drop all missing values from a numpy array?</p>
<p>Difficulty Level: L2</p>
<p>Question: Drop all <code>nan</code> values from a 1D numpy array.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：从 1 维 NumPy 数组中删除所有的 <code>nan</code> 值。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, np.nan, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, np.nan])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([ <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>, nan,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">7.</span>, nan])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">1.</span>, <span class="number">2.</span>, <span class="number">3.</span>, <span class="number">5.</span>, <span class="number">6.</span>, <span class="number">7.</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr[~np.isnan(arr)]</span><br><span class="line">array([<span class="number">1.</span>, <span class="number">2.</span>, <span class="number">3.</span>, <span class="number">5.</span>, <span class="number">6.</span>, <span class="number">7.</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="62-如何计算两个数组之间的欧几里得距离？"><a href="#62-如何计算两个数组之间的欧几里得距离？" class="headerlink" title="62. 如何计算两个数组之间的欧几里得距离？"></a>62. 如何计算两个数组之间的欧几里得距离？</h1><details>
<summary>English Version</summary>

<p>Title: How to compute the euclidean distance between two arrays?</p>
<p>Difficulty Level: L1</p>
<p>Question: Compute the euclidean distance between two arrays <code>a</code> and <code>b</code>.</p>
<hr>
</details>

<p>难度：L1</p>
<p>问题：计算两个数组 <code>a</code> 和 <code>b</code> 之间的欧几里得距离。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = np.array([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.sqrt(np.<span class="built_in">sum</span>((a-b)**<span class="number">2</span>))</span><br><span class="line"><span class="number">6.708203932499369</span></span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.linalg.norm(a-b)</span><br><span class="line"><span class="number">6.708203932499369</span></span><br></pre></td></tr></table></figure>

</details>

<h1 id="63-如何在一个-1-维数组中找到所有的局部极大值（peak）？"><a href="#63-如何在一个-1-维数组中找到所有的局部极大值（peak）？" class="headerlink" title="63. 如何在一个 1 维数组中找到所有的局部极大值（peak）？"></a>63. 如何在一个 1 维数组中找到所有的局部极大值（peak）？</h1><details>
<summary>English Version</summary>

<p>Title: How to find all the local maxima (or peaks) in a 1d array?</p>
<p>Difficulty Level: L4</p>
<p>Question: Find all the peaks in a 1D numpy array <code>a</code>. Peaks are points surrounded by smaller values on both sides.</p>
<hr>
</details>

<p>难度：L4</p>
<p>问题：在 1 维数组 <code>a</code> 中找到所有的 peak。peak 是指一个数字比两侧的数字都大。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">2</span>, <span class="number">5</span>])</span><br></pre></td></tr></table></figure>

<p>其中 2 和 5 是局部最大值 7 和 6 的下标。</p>
<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>double_diff = np.diff(np.sign(np.diff(a)))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>peak_locations = np.where(double_diff == -<span class="number">2</span>)[<span class="number">0</span>] + <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>peak_locations</span><br><span class="line">array([<span class="number">2</span>, <span class="number">5</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="64-如何从-2-维数组中减去-1-维数组，从-2-维数组的每一行分别减去-1-维数组的每一项？"><a href="#64-如何从-2-维数组中减去-1-维数组，从-2-维数组的每一行分别减去-1-维数组的每一项？" class="headerlink" title="64. 如何从 2 维数组中减去 1 维数组，从 2 维数组的每一行分别减去 1 维数组的每一项？"></a>64. 如何从 2 维数组中减去 1 维数组，从 2 维数组的每一行分别减去 1 维数组的每一项？</h1><details>
<summary>English Version</summary>

<p>Title: How to subtract a 1d array from a 2d array, where each item of 1d array subtracts from respective row?</p>
<p>Difficulty Level: L2</p>
<p>Question: Subtract the 1d array <code>b_1d</code> from the 2d array <code>a_2d</code>, such that each item of <code>b_1d</code> subtracts from respective row of <code>a_2d</code>.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：从 2 维数组 <code>a_2d</code> 中减去 1 维数组 <code>b_1d</code>，即从 <code>a_2d</code> 的每一行分别减去 <code>b_1d</code> 的每一项。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_2d = np.array([[<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>],[<span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>],[<span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b_1d = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_2d</span><br><span class="line">array([[<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b_1d</span><br><span class="line">array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array([[<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a_2d - b_1d[:, np.newaxis]</span><br><span class="line">array([[<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="65-如何在数组中找出某个项的第-n-个重复索引？"><a href="#65-如何在数组中找出某个项的第-n-个重复索引？" class="headerlink" title="65. 如何在数组中找出某个项的第 n 个重复索引？"></a>65. 如何在数组中找出某个项的第 n 个重复索引？</h1><details>
<summary>English Version</summary>

<p>Title: How to find the index of n’th repetition of an item in an array</p>
<p>Difficulty Level L2</p>
<p>Question: Find the index of 5th repetition of number 1 in <code>x</code>.</p>
</details>

<p>难度：L2</p>
<p>问题：找到数组 <code>x</code> 中数字 1 的第 5 个重复索引。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>n = <span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[i <span class="keyword">for</span> i, v <span class="keyword">in</span> <span class="built_in">enumerate</span>(x) <span class="keyword">if</span> v == <span class="number">1</span>][n-<span class="number">1</span>]</span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>n = <span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>index = np.arange(<span class="built_in">len</span>(x))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>index[x == <span class="number">1</span>][n-<span class="number">1</span>]</span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 3</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>n = <span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.where(x == <span class="number">1</span>)[<span class="number">0</span>][n-<span class="number">1</span>]</span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>

</details>

<h1 id="66-如何将-NumPy-的-datetime64-对象（object）转换为-datetime-的-datetime-对象？"><a href="#66-如何将-NumPy-的-datetime64-对象（object）转换为-datetime-的-datetime-对象？" class="headerlink" title="66. 如何将 NumPy 的 datetime64 对象（object）转换为 datetime 的 datetime 对象？"></a>66. 如何将 NumPy 的 datetime64 对象（object）转换为 datetime 的 datetime 对象？</h1><details>
<summary>English Version</summary>

<p>Title: How to convert numpy’s datetime64 object to datetime’s datetime object?</p>
<p>Difficulty Level: L2</p>
<p>Question: Convert numpy’s <code>datetime64</code> object to datetime’s <code>datetime</code> object.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：将 NumPy 的 <code>datetime64</code> 对象转换为 datetime 的 <code>datetime</code> 对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input: a numpy datetime64 object</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dt64 = np.datetime64(<span class="string">&quot;2018-02-25 22:10:10&quot;</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dt64.tolist()</span><br><span class="line">datetime.datetime(<span class="number">2018</span>, <span class="number">2</span>, <span class="number">25</span>, <span class="number">22</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dt64.astype(datetime)</span><br><span class="line">datetime.datetime(<span class="number">2018</span>, <span class="number">2</span>, <span class="number">25</span>, <span class="number">22</span>, <span class="number">10</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure>

</details>

<h1 id="67-如何计算-NumPy-数组的移动平均数？"><a href="#67-如何计算-NumPy-数组的移动平均数？" class="headerlink" title="67. 如何计算 NumPy 数组的移动平均数？"></a>67. 如何计算 NumPy 数组的移动平均数？</h1><details>
<summary>English Version</summary>

<p>Title: How to compute the moving average of a numpy array?</p>
<p>Difficulty Level: L3</p>
<p>Question: Compute the moving average of window size 3, for the given 1D array.</p>
<hr>
</details>

<p>难度：L3</p>
<p>问题：给定 1 维数组，计算 window size 为 3 的移动平均数。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Z = np.random.randint(<span class="number">10</span>, size=<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Z</span><br><span class="line">array([<span class="number">8</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<p>Source: <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/14313510/how-to-calculate-moving-average-using-numpy">How to calculate moving average using NumPy?</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">moving_average</span>(<span class="params">a, n=<span class="number">3</span></span>):</span><br><span class="line"><span class="meta">... </span>    ret = np.cumsum(a, dtype=<span class="built_in">float</span>)</span><br><span class="line"><span class="meta">... </span>    ret[n:] = ret[n:] - ret[:-n]</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> ret[n-<span class="number">1</span>:] / n</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>moving_average(Z, n=<span class="number">3</span>).<span class="built_in">round</span>(<span class="number">2</span>)</span><br><span class="line">array([<span class="number">6.33</span>, <span class="number">6.</span>  , <span class="number">5.67</span>, <span class="number">4.67</span>, <span class="number">3.67</span>, <span class="number">2.</span>  , <span class="number">3.67</span>, <span class="number">3.</span>  ])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.convolve(Z, np.ones(<span class="number">3</span>)/<span class="number">3</span>, mode=<span class="string">&quot;valid&quot;</span>).<span class="built_in">round</span>(<span class="number">2</span>)</span><br><span class="line">array([<span class="number">6.33</span>, <span class="number">6.</span>  , <span class="number">5.67</span>, <span class="number">4.67</span>, <span class="number">3.67</span>, <span class="number">2.</span>  , <span class="number">3.67</span>, <span class="number">3.</span>  ])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="68-给定起始数字、length-和步长，如何创建一个-NumPy-数组序列？"><a href="#68-给定起始数字、length-和步长，如何创建一个-NumPy-数组序列？" class="headerlink" title="68. 给定起始数字、length 和步长，如何创建一个 NumPy 数组序列？"></a>68. 给定起始数字、length 和步长，如何创建一个 NumPy 数组序列？</h1><details>
<summary>English Version</summary>

<p>Title: How to create a numpy array sequence given only the starting point, length and the step?</p>
<p>Difficulty Level: L2</p>
<p>Question: Create a numpy array of length 10, starting from 5 and has a step of 3 between consecutive numbers.</p>
<hr>
</details>

<p>难度：L2</p>
<p>问题：从 5 开始，创建一个 length 为 10 的 NumPy 数组，相邻数字的差是 3。</p>
<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">seq</span>(<span class="params">start, length, step</span>):</span><br><span class="line"><span class="meta">... </span>    end = start + (step*length)</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> np.arange(start, end, step)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>seq(<span class="number">5</span>, <span class="number">10</span>, <span class="number">3</span>)</span><br><span class="line">array([ <span class="number">5</span>,  <span class="number">8</span>, <span class="number">11</span>, <span class="number">14</span>, <span class="number">17</span>, <span class="number">20</span>, <span class="number">23</span>, <span class="number">26</span>, <span class="number">29</span>, <span class="number">32</span>])</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.arange(<span class="number">5</span>, <span class="number">5</span>+<span class="number">3</span>*<span class="number">10</span>, <span class="number">3</span>)</span><br><span class="line">array([ <span class="number">5</span>,  <span class="number">8</span>, <span class="number">11</span>, <span class="number">14</span>, <span class="number">17</span>, <span class="number">20</span>, <span class="number">23</span>, <span class="number">26</span>, <span class="number">29</span>, <span class="number">32</span>])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="69-如何在不规则-NumPy-日期序列中填充缺失日期？"><a href="#69-如何在不规则-NumPy-日期序列中填充缺失日期？" class="headerlink" title="69. 如何在不规则 NumPy 日期序列中填充缺失日期？"></a>69. 如何在不规则 NumPy 日期序列中填充缺失日期？</h1><details>
<summary>English Version</summary>

<p>Title: How to fill in missing dates in an irregular series of numpy dates?</p>
<p>Difficulty Level: L3</p>
<p>Question: Given an array of a non-continuous sequence of dates. Make it a continuous sequence of dates, by filling in the missing dates.</p>
</details>

<p>难度：L3</p>
<p>问题：给定一个非连续日期序列的数组，通过填充缺失的日期，使其变成连续的日期序列。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dates = np.arange(np.datetime64(<span class="string">&quot;2018-02-01&quot;</span>), np.datetime64(<span class="string">&quot;2018-02-25&quot;</span>), <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dates</span><br><span class="line">array([<span class="string">&#x27;2018-02-01&#x27;</span>, <span class="string">&#x27;2018-02-03&#x27;</span>, <span class="string">&#x27;2018-02-05&#x27;</span>, <span class="string">&#x27;2018-02-07&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-09&#x27;</span>, <span class="string">&#x27;2018-02-11&#x27;</span>, <span class="string">&#x27;2018-02-13&#x27;</span>, <span class="string">&#x27;2018-02-15&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-17&#x27;</span>, <span class="string">&#x27;2018-02-19&#x27;</span>, <span class="string">&#x27;2018-02-21&#x27;</span>, <span class="string">&#x27;2018-02-23&#x27;</span>],</span><br><span class="line">      dtype=<span class="string">&#x27;datetime64[D]&#x27;</span>)</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution 1</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> date, d <span class="keyword">in</span> <span class="built_in">zip</span>(dates, np.diff(dates)):</span><br><span class="line"><span class="meta">... </span>    out.append(np.arange(date, (date+d)))</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>filled_in = np.array(out).reshape(-<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>output = np.hstack([filled_in, dates[-<span class="number">1</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>output</span><br><span class="line">array([<span class="string">&#x27;2018-02-01&#x27;</span>, <span class="string">&#x27;2018-02-02&#x27;</span>, <span class="string">&#x27;2018-02-03&#x27;</span>, <span class="string">&#x27;2018-02-04&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-05&#x27;</span>, <span class="string">&#x27;2018-02-06&#x27;</span>, <span class="string">&#x27;2018-02-07&#x27;</span>, <span class="string">&#x27;2018-02-08&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-09&#x27;</span>, <span class="string">&#x27;2018-02-10&#x27;</span>, <span class="string">&#x27;2018-02-11&#x27;</span>, <span class="string">&#x27;2018-02-12&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-13&#x27;</span>, <span class="string">&#x27;2018-02-14&#x27;</span>, <span class="string">&#x27;2018-02-15&#x27;</span>, <span class="string">&#x27;2018-02-16&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-17&#x27;</span>, <span class="string">&#x27;2018-02-18&#x27;</span>, <span class="string">&#x27;2018-02-19&#x27;</span>, <span class="string">&#x27;2018-02-20&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-21&#x27;</span>, <span class="string">&#x27;2018-02-22&#x27;</span>, <span class="string">&#x27;2018-02-23&#x27;</span>], dtype=<span class="string">&#x27;datetime64[D]&#x27;</span>)</span><br></pre></td></tr></table></figure>

</details>

<details>
<summary>Solution 2</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>filled_in = np.array([np.arange(date, (date+d)) <span class="keyword">for</span> date, d <span class="keyword">in</span> <span class="built_in">zip</span>(dates, np.diff(dates))]).reshape(-<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>output = np.hstack([filled_in, dates[-<span class="number">1</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>output</span><br><span class="line">array([<span class="string">&#x27;2018-02-01&#x27;</span>, <span class="string">&#x27;2018-02-02&#x27;</span>, <span class="string">&#x27;2018-02-03&#x27;</span>, <span class="string">&#x27;2018-02-04&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-05&#x27;</span>, <span class="string">&#x27;2018-02-06&#x27;</span>, <span class="string">&#x27;2018-02-07&#x27;</span>, <span class="string">&#x27;2018-02-08&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-09&#x27;</span>, <span class="string">&#x27;2018-02-10&#x27;</span>, <span class="string">&#x27;2018-02-11&#x27;</span>, <span class="string">&#x27;2018-02-12&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-13&#x27;</span>, <span class="string">&#x27;2018-02-14&#x27;</span>, <span class="string">&#x27;2018-02-15&#x27;</span>, <span class="string">&#x27;2018-02-16&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-17&#x27;</span>, <span class="string">&#x27;2018-02-18&#x27;</span>, <span class="string">&#x27;2018-02-19&#x27;</span>, <span class="string">&#x27;2018-02-20&#x27;</span>,</span><br><span class="line">       <span class="string">&#x27;2018-02-21&#x27;</span>, <span class="string">&#x27;2018-02-22&#x27;</span>, <span class="string">&#x27;2018-02-23&#x27;</span>], dtype=<span class="string">&#x27;datetime64[D]&#x27;</span>)</span><br></pre></td></tr></table></figure>

</details>

<h1 id="70-如何基于给定的-1-维数组创建-strides？"><a href="#70-如何基于给定的-1-维数组创建-strides？" class="headerlink" title="70. 如何基于给定的 1 维数组创建 strides？"></a>70. 如何基于给定的 1 维数组创建 strides？</h1><details>
<summary>English Version</summary>

<p>Title: How to create strides from a given 1D array?</p>
<p>Difficulty Level: L4</p>
<p>Question: From the given 1d array <code>arr</code>, generate a 2d matrix using strides, with a window length of 4 and strides of 2, like [[0,1,2,3], [2,3,4,5], [4,5,6,7]..]</p>
<hr>
</details>

<p>难度：L4</p>
<p>问题：给定 1 维数组 <code>arr</code>，使用 strides 生成一个 2 维矩阵，其中 window length 等于 4，strides 等于 2，例如 [[0,1,2,3], [2,3,4,5], [4,5,6,7]..]。</p>
<p>输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr = np.arange(<span class="number">15</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>arr</span><br><span class="line">array([ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>])</span><br></pre></td></tr></table></figure>

<p>期望输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">array([[ 0,  1,  2,  3],</span><br><span class="line">       [ 2,  3,  4,  5],</span><br><span class="line">       [ 4,  5,  6,  7],</span><br><span class="line">       [ 6,  7,  8,  9],</span><br><span class="line">       [ 8,  9, 10, 11],</span><br><span class="line">       [10, 11, 12, 13]])</span><br></pre></td></tr></table></figure>

<details>
<summary>Solution</summary>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">gen_strides</span>(<span class="params">a, stride_len=<span class="number">5</span>, window_len=<span class="number">5</span></span>):</span><br><span class="line"><span class="meta">... </span>    n_strides = ((a.size - window_len) // stride_len) + <span class="number">1</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> np.array([a[s:(s+window_len)] <span class="keyword">for</span> s <span class="keyword">in</span> np.arange(<span class="number">0</span>, n_strides*stride_len, stride_len)])</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>gen_strides(np.arange(<span class="number">15</span>), stride_len=<span class="number">2</span>, window_len=<span class="number">4</span>)</span><br><span class="line">array([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">       [ <span class="number">2</span>,  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>],</span><br><span class="line">       [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">       [ <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">       [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>],</span><br><span class="line">       [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>]])</span><br></pre></td></tr></table></figure>

</details>

<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ol>
<li><a target="_blank" rel="noopener" href="https://www.machinelearningplus.com/python/101-numpy-exercises-python/">101 NumPy Exercises for Data Analysis (Python)</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/lyga06w4SSGgB-G7eHJwew">70 道 NumPy 测试题</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/01/12/Python-Iterable-Container-Implementation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/12/Python-Iterable-Container-Implementation/" class="post-title-link" itemprop="url">Python Iterable Container Implementation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-01-12 22:36:35" itemprop="dateCreated datePublished" datetime="2020-01-12T22:36:35+08:00">2020-01-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>要实现一个可遍历的容器，需要两步：</p>
<ol>
<li>容器继承<code>collection.abc.Iterable</code>，然后实现<code>__iter__()</code>方法</li>
<li>实现一个Iterator类，继承自<code>collection.abc.Iterator</code>，然后实现<code>__next__()</code>方法</li>
</ol>
<img src="/2020/01/12/Python-Iterable-Container-Implementation/iterator.png" class="" width="600">

<p>实现代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterator, Iterable</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Any</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteIterator</span>(<span class="title class_ inherited__">Iterator</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, collection</span>):</span><br><span class="line">        <span class="variable language_">self</span>._collection = collection</span><br><span class="line">        <span class="variable language_">self</span>._position = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__next__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            value = <span class="variable language_">self</span>._collection._container[<span class="variable language_">self</span>._position]</span><br><span class="line">            <span class="variable language_">self</span>._position = <span class="variable language_">self</span>._position + <span class="number">1</span></span><br><span class="line">        <span class="keyword">except</span> IndexError:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteCollection</span>(<span class="title class_ inherited__">Iterable</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>._container = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> ConcreteIterator(<span class="variable language_">self</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_item</span>(<span class="params">self, item: <span class="type">Any</span></span>):</span><br><span class="line">        <span class="variable language_">self</span>._container.append(item)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    collection = ConcreteCollection()</span><br><span class="line">    collection.add_item(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line">    collection.add_item(<span class="string">&#x27;Wolrd,&#x27;</span>)</span><br><span class="line">    collection.add_item(<span class="string">&#x27;Python.&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> collection:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; &#x27;</span>.<span class="built_in">format</span>(item), end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Luo Wanqian</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">80</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">33</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Luo Wanqian</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
