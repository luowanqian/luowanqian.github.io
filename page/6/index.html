<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="袋熊的树洞">
<meta property="og:url" content="http://example.com/page/6/index.html">
<meta property="og:site_name" content="袋熊的树洞">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Luo Wanqian">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>袋熊的树洞</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">袋熊的树洞</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">日拱一卒，功不唐捐</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-diary">

    <a href="/diary" rel="section"><i class="fa fa-fw fa-calendar"></i>diary</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/04/21/LeetCode-383-Ransom-Note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/04/21/LeetCode-383-Ransom-Note/" class="post-title-link" itemprop="url">LeetCode 383 - Ransom Note</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-21 09:57:31" itemprop="dateCreated datePublished" datetime="2018-04-21T09:57:31+08:00">2018-04-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Given an arbitrary ransom note string and another string containing letters from all the magazines, write a function that will return true if the ransom note can be constructed from the magazines ; otherwise, it will return false.</p>
<p>Each letter in the magazine string can only be used once in your ransom note.</p>
<p><strong>Note:</strong></p>
<p>You may assume that both strings contain only lowercase letters.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">canConstruct(&quot;a&quot;, &quot;b&quot;) -&gt; false</span><br><span class="line">canConstruct(&quot;aa&quot;, &quot;ab&quot;) -&gt; false</span><br><span class="line">canConstruct(&quot;aa&quot;, &quot;aab&quot;) -&gt; true</span><br></pre></td></tr></table></figure>

<p><strong>Related Topics:</strong> String</p>
<p>原问题：<a target="_blank" rel="noopener" href="https://leetcode.com/problems/ransom-note/description/">383. Ransom Note</a></p>
<p>中文翻译版：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ransom-note/description/">383. 赎金信</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>这道题要求字符串 ransom note 中的字符都能从字符串 magazine 中找到，而且 ransom note 中的字符的重复次数要小于等于 magazine 相对应字符的重复次数。基于上面的要求，有个很简单的解决方案，对字符串 ransom note 和字符串 magazine 分别构造一个大小为 26 的数组，存储 26 个字母在字符串中出现的次数，然后遍历数组，判断 ransom note 中的字符的重复次数是否小于等于 magazine 相对应字符的重复次数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    bool canConstruct(string ransomNote, string magazine)</span><br><span class="line">    &#123;</span><br><span class="line">        if (ransomNote.size() &gt; magazine.size())</span><br><span class="line">            return false;</span><br><span class="line"></span><br><span class="line">        int rmap[26], mmap[26];</span><br><span class="line"></span><br><span class="line">        memset(rmap, 0, sizeof(rmap));</span><br><span class="line">        memset(mmap, 0, sizeof(mmap));</span><br><span class="line"></span><br><span class="line">        int i = 0, j = 0;</span><br><span class="line">        while (i &lt; ransomNote.size() || j &lt; magazine.size()) &#123;</span><br><span class="line">            if (i &lt; ransomNote.size())</span><br><span class="line">                rmap[ransomNote[i++] - &#x27;a&#x27;] += 1;</span><br><span class="line">            if (j &lt; magazine.size())</span><br><span class="line">                mmap[magazine[j++] - &#x27;a&#x27;] += 1;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        for (i=0; i&lt;26; i++)</span><br><span class="line">            if (rmap[i] &gt; mmap[i])</span><br><span class="line">                return false;</span><br><span class="line"></span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    Solution solu;</span><br><span class="line"></span><br><span class="line">    string r1 = &quot;ab&quot;;</span><br><span class="line">    string m1 = &quot;aba&quot;;</span><br><span class="line">    cout &lt;&lt; r1 &lt;&lt; &quot; &quot; &lt;&lt; m1 &lt;&lt; &quot;: &quot; &lt;&lt; solu.canConstruct(r1, m1);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/04/15/LeetCode-521-Longest-Uncommon-Subsequence-I/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/04/15/LeetCode-521-Longest-Uncommon-Subsequence-I/" class="post-title-link" itemprop="url">LeetCode 521 - Longest Uncommon Subsequence I</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-15 22:26:45" itemprop="dateCreated datePublished" datetime="2018-04-15T22:26:45+08:00">2018-04-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Given a group of two strings, you need to find the longest uncommon subsequence of this group of two strings. The longest uncommon subsequence is defined as the longest subsequence of one of these strings and this subsequence should not be <strong>any</strong> subsequence of the other strings.</p>
<p>A <strong>subsequence</strong> is a sequence that can be derived from one sequence by deleting some characters without changing the order of the remaining elements. Trivially, any string is a subsequence of itself and an empty string is a subsequence of any string.</p>
<p>The input will be two strings, and the output needs to be the length of the longest uncommon subsequence. If the longest uncommon subsequence doesn’t exist, return -1.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;aba&quot;, &quot;cdc&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The longest uncommon subsequence is &quot;aba&quot; (or &quot;cdc&quot;),</span><br><span class="line">because &quot;aba&quot; is a subsequence of &quot;aba&quot;,</span><br><span class="line">but not a subsequence of any other strings in the group of two strings.</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong></p>
<ol>
<li>Both strings’ lengths will not exceed 100.</li>
<li>Only letters from a ~ z will appear in input strings.</li>
</ol>
<p><strong>Related Topics:</strong> String</p>
<p>原问题：<a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-uncommon-subsequence-i/description/">521. Longest Uncommon Subsequence I</a></p>
<p>中文翻译版：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/longest-uncommon-subsequence-i/description/">521. 最长特殊序列 Ⅰ</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>这道题粗看以为是一道很难的题目，但是解决该问题只需要考虑三种情况：</p>
<ol>
<li>$a &#x3D; b$<br>  If both the strings are identical, it is obvious that no subsequence will be uncommon. Hence, return -1.</li>
<li>$length(a) &#x3D; length(b)$ and $a \ne b$<br>  Example: $abc$ and $abd$. In this case we can consider any string i.e. $abc$ or $abd$ as a required subsequence, as out of these two strings one string will never be a subsequence of other string. Hence, return $length(a)$ or $length(b)$.</li>
<li>$length(a) \ne length(b)$<br>  Example: $abcd$ and $abc$. In this case we can consider bigger string as a required subsequence because bigger string can’t be a subsequence of smaller string. Hence, return $\max{(length(a), length(b))}$.</li>
</ol>
<p>贴上实现代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int findLUSlength(string a, string b)</span><br><span class="line">    &#123;</span><br><span class="line">        int i = 0, j = 0;</span><br><span class="line"></span><br><span class="line">        if (a.size() == b.size()) &#123;</span><br><span class="line">            while (i &lt; a.size() &amp;&amp; j &lt; a.size() &amp;&amp; a[i] == b[j]) &#123;</span><br><span class="line">                i++;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            if (i &lt; a.size() || j &lt; b.size())</span><br><span class="line">                return a.size();</span><br><span class="line">            else</span><br><span class="line">                return -1;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return a.size() &gt; b.size() ? a.size() : b.size();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    Solution solu;</span><br><span class="line">    string str1 = &quot;abcd&quot;, str2 = &quot;abc&quot;;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; solu.findLUSlength(str1, str2) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/04/13/LeetCode-557-Reverse-Words-in-a-String-III/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/04/13/LeetCode-557-Reverse-Words-in-a-String-III/" class="post-title-link" itemprop="url">LeetCode 557 - Reverse Words in a String III</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-13 23:44:37" itemprop="dateCreated datePublished" datetime="2018-04-13T23:44:37+08:00">2018-04-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Given a string, you need to reverse the order of characters in each word within a sentence while still preserving whitespace and initial word order.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;Let&#x27;s take LeetCode contest&quot;</span><br><span class="line">Output: &quot;s&#x27;teL ekat edoCteeL tsetnoc&quot;</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong> In the string, each word is separated by single space and there will not be any extra space in the string.</p>
<p><strong>Related Topics:</strong> String</p>
<p>原问题：<a target="_blank" rel="noopener" href="https://leetcode.com/problems/reverse-words-in-a-string-iii/description/">557. Reverse Words in a String III</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>题目主要意思是反转字符串中的每一个单词，因此这道题目主要是找到单词的位置，这里我们可以设定两个指针，分别命名为<code>start</code>和<code>end</code>，指针<code>start</code>指向单词的第一个字母的位置，指针<code>end</code>指向单词的最后一个字母的位置，然后将<code>[start, end]</code>里面的单词反转即可。至于指针怎么设置，我们可以先设置指针<code>start</code>指向第一个字母，然后找到空格字符的前一个字符的位置赋给指针<code>end</code>；接着找到下一个字母的位置赋给指针<code>start</code>，然后找到下一个空格字符的位置，将该空格字符的前一个字符的位置赋给指针<code>end</code>，如此循环，直到字符串被遍历完。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    string reverseWords(string s)</span><br><span class="line">    &#123;</span><br><span class="line">        int start, end;</span><br><span class="line">        char tmp;</span><br><span class="line"></span><br><span class="line">        start = 0;</span><br><span class="line">        end = s.size();</span><br><span class="line">        for (int i=0; i&lt;s.size(); i++) &#123;</span><br><span class="line">            if (s[i] == &#x27; &#x27;) &#123;</span><br><span class="line">                end = i - 1;</span><br><span class="line"></span><br><span class="line">                // reverse word</span><br><span class="line">                while (start &lt; end) &#123;</span><br><span class="line">                    tmp = s[start];</span><br><span class="line">                    s[start] = s[end];</span><br><span class="line">                    s[end] = tmp;</span><br><span class="line">                    start++;</span><br><span class="line">                    end--;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                while (i &lt; s.size() &amp;&amp; s[i] == &#x27; &#x27;)</span><br><span class="line">                    i++;</span><br><span class="line">                start = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // process last word</span><br><span class="line">        end = s.size() - 1;</span><br><span class="line">        while (start &lt; end) &#123;</span><br><span class="line">            tmp = s[start];</span><br><span class="line">            s[start] = s[end];</span><br><span class="line">            s[end] = tmp;</span><br><span class="line">            start++;</span><br><span class="line">            end--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    Solution solu;</span><br><span class="line">    string str1 = &quot;Let&#x27;s take LeetCode contest&quot;;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; solu.reverseWords(str1) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/04/07/%E5%9F%BA%E4%BA%8EDocker%E7%9A%84Caffe%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/04/07/%E5%9F%BA%E4%BA%8EDocker%E7%9A%84Caffe%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="post-title-link" itemprop="url">基于Docker的Caffe环境搭建</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-07 23:16:50" itemprop="dateCreated datePublished" datetime="2018-04-07T23:16:50+08:00">2018-04-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>本文主要介绍如何利用Docker搭建Caffe的开发环境，内容分两部分，第一部分是CPU模式环境搭建，第二部分是GPU模式环境搭建。</p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>由于本文需要用到Docker的，所以要先装好Docker，这个教程可以参考官方提供的最新教程 <a target="_blank" rel="noopener" href="https://docs.docker.com/install/">Install Docker</a>，这里就不详细介绍了。按照官方教程，装好Docker的社区版 (Community Edition)。</p>
<h2 id="CPU模式"><a href="#CPU模式" class="headerlink" title="CPU模式"></a>CPU模式</h2><p>如果要想直接使用Caffe提供的Docker镜像 (<a target="_blank" rel="noopener" href="https://hub.docker.com/r/bvlc/caffe/">bvlc&#x2F;caffe</a>)，可以直接使用 <code>docker pull</code> 命令把镜像下下来，然后使用 <code>docker run</code> 运行一个容器。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull bvlc/caffe:cpu</span><br><span class="line">docker run -it bvlc/caffe:cpu bash</span><br></pre></td></tr></table></figure>

<p>此时，CPU模式的环境就可以使用了。如果需要在这个镜像的基础上添加点东西，例如安装 Jupyter Notebook 从而方便地使用Caffe的Python接口，这就需要自己编写一个Dockerfile了，然后生成一个镜像。</p>
<h3 id="编写Dockerfile"><a href="#编写Dockerfile" class="headerlink" title="编写Dockerfile"></a>编写Dockerfile</h3><p>我这里直接贴上一份Dockerfile，内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">FROM bvlc/caffe:cpu</span><br><span class="line"></span><br><span class="line">RUN pip install -U pip \</span><br><span class="line">    &amp;&amp; pip install -U scipy \</span><br><span class="line">    &amp;&amp; pip install -U scikit-learn \</span><br><span class="line">    &amp;&amp; pip install -U matplotlib \</span><br><span class="line">    &amp;&amp; pip install -U jupyter \</span><br><span class="line">    &amp;&amp; pip install -U lmdb \</span><br><span class="line">    &amp;&amp; pip install -U python-mnist</span><br><span class="line"></span><br><span class="line"># Set the working directory to /caffe</span><br><span class="line">WORKDIR /caffe</span><br><span class="line"></span><br><span class="line">VOLUME [&quot;/caffe/data&quot;, &quot;/caffe/notebooks&quot;]</span><br><span class="line"></span><br><span class="line"># Expose port 8888 (jupyter uses)</span><br><span class="line">EXPOSE 8888</span><br><span class="line"></span><br><span class="line">CMD jupyter notebook --no-browser --ip=0.0.0.0 --allow-root --NotebookApp.token=&#x27;science&#x27;</span><br></pre></td></tr></table></figure>

<p>关于Dockerfile的编写规则，可以参考<a target="_blank" rel="noopener" href="https://yeasy.gitbooks.io/docker_practice/content/">Docker - 从入门到实践</a>这个电子书，内容写的很不错。Dockerfile选择Caffe作为基础镜像，然后安装了一些Python 包。在这个Dockerfile中我使用 <code>VOLUME</code> 命令定义了两个匿名卷</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VOLUME [&quot;/caffe/data&quot;, &quot;/caffe/notebooks&quot;]</span><br></pre></td></tr></table></figure>

<p>后面我会把主机的真实目录挂载为这两个匿名卷，这样你在容器里往这两个目录写入东西就会保存到主机的真实目录里面。Dockerfile还指定了容器启动命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CMD jupyter notebook --no-browser --ip=0.0.0.0 --allow-root --NotebookApp.token=&#x27;science&#x27;</span><br></pre></td></tr></table></figure>

<p>每次使用 <code>Docker run</code> 启动容器都会运行这个命令，这里我选择启动 Jupyter Notebook，这样我就可以通过浏览器访问 Jupyter Notebook了。</p>
<h3 id="制作镜像"><a href="#制作镜像" class="headerlink" title="制作镜像"></a>制作镜像</h3><p>在Dockerfile所在目录使用命令即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t mycaffe .</span><br></pre></td></tr></table></figure>

<h3 id="启动容器"><a href="#启动容器" class="headerlink" title="启动容器"></a>启动容器</h3><p>创建两个目录，分别为 <code>data</code> 和 <code>notebooks</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir data</span><br><span class="line">mkdir notebooks</span><br></pre></td></tr></table></figure>

<p>这两个目录就是所要挂载的目录，我要将这两个目录挂载到容器的匿名卷上。使用 <code>Docker run</code> 启动一个容器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name DeepLearning -d --mount type=bind,source=`pwd`/data,target=/caffe/data --mount type=bind,source=`pwd`/LeNet,target=/caffe/notebooks -p 8887:8888 mycaffe</span><br></pre></td></tr></table></figure>

<p>这里解析下命令，首先是挂载两个匿名卷，将目录 <code>data</code> 挂载到 <code>/caffe/data</code>，将目录 <code>notebooks</code> 挂载到 <code>/caffe/notebooks</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--mount type=bind,source=`pwd`/data,target=/caffe/data --mount type=bind,source=`pwd`/LeNet,target=/caffe/notebooks</span><br></pre></td></tr></table></figure>

<p>然后是 <code>-p 8887:8888</code> 将容器8888端口映射到本机的8887端口上，<code>-d</code> 是让容器后台运行，<code>--name DeepLearning</code> 将这个容器命名为 DeepLearning。运行成功后，可以使用浏览器访问 Jupyter Notebook了，访问地址为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8887/</span><br></pre></td></tr></table></figure>

<h2 id="GPU模式"><a href="#GPU模式" class="headerlink" title="GPU模式"></a>GPU模式</h2><p>GPU模式稍微复杂点，主要是GPU模式下需要CUDA以及显卡驱动，不过Caffe镜像已经集成了相应的CUDA，剩下就是安装显卡对应的驱动了。不同于CPU模式，这里启动容器需要使用 <code>nvidia-docker</code>，具体安装可以参考 <a target="_blank" rel="noopener" href="https://github.com/NVIDIA/nvidia-docker">GitHub Nvida Docker</a>，安装过程很简单，很快就可以安装好了。接下来就需要编写Dockerfile了，大体内容类似CPU模式的Dockerfile，不过基础镜像选择 <code>bvlc/caffe:gpu</code>。</p>
<h3 id="编写Dockerfile-1"><a href="#编写Dockerfile-1" class="headerlink" title="编写Dockerfile"></a>编写Dockerfile</h3><p>选用 <code>bvlc/caffe:gpu</code> 作为基础镜像，编写Dockerfile如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">FROM bvlc/caffe:gpu</span><br><span class="line"></span><br><span class="line">RUN pip install -U pip \</span><br><span class="line">    &amp;&amp; pip install -U scipy \</span><br><span class="line">    &amp;&amp; pip install -U scikit-learn \</span><br><span class="line">    &amp;&amp; pip install -U matplotlib \</span><br><span class="line">    &amp;&amp; pip install -U jupyter \</span><br><span class="line">    &amp;&amp; pip install -U lmdb \</span><br><span class="line">    &amp;&amp; pip install -U python-mnist</span><br><span class="line"></span><br><span class="line"># Set the working directory to /caffe</span><br><span class="line">WORKDIR /caffe</span><br><span class="line"></span><br><span class="line">VOLUME [&quot;/caffe/data&quot;, &quot;/caffe/notebooks&quot;]</span><br><span class="line"></span><br><span class="line"># Expose port 8888 (jupyter uses)</span><br><span class="line">EXPOSE 8888</span><br><span class="line"></span><br><span class="line">CMD jupyter notebook --no-browser --ip=0.0.0.0 --allow-root --NotebookApp.token=&#x27;science&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="制作镜像-1"><a href="#制作镜像-1" class="headerlink" title="制作镜像"></a>制作镜像</h3><p>在Dockerfile所在目录执行命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t mycaffe .</span><br></pre></td></tr></table></figure>

<h3 id="启动容器-1"><a href="#启动容器-1" class="headerlink" title="启动容器"></a>启动容器</h3><p>同前面所述，先创建好两个目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir data</span><br><span class="line">mkdir notebooks</span><br></pre></td></tr></table></figure>

<p>然后启动容器，启动容器使用的是 <code>nvidia-docker</code> 而不是 <code>docker</code>，启动命令如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-docker run --name DeepLearning -d --mount type=bind,source=`pwd`/data,target=/caffe/data --mount type=bind,source=`pwd`/LeNet,target=/caffe/notebooks -p 8887:8888 mycaffe</span><br></pre></td></tr></table></figure>

<p>启动完后可以直接通过浏览器访问容器内部的 Jupyter Notebook 了。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a target="_blank" rel="noopener" href="https://github.com/BVLC/caffe/tree/master/docker">Docker Setup Cafee</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/04/07/%E5%86%B3%E7%AD%96%E6%A0%91%E5%8F%AF%E8%A7%86%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/04/07/%E5%86%B3%E7%AD%96%E6%A0%91%E5%8F%AF%E8%A7%86%E5%8C%96/" class="post-title-link" itemprop="url">决策树可视化</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-07 14:54:06" itemprop="dateCreated datePublished" datetime="2018-04-07T14:54:06+08:00">2018-04-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><blockquote>
<p>源码以及相对应的使用在：<a target="_blank" rel="noopener" href="https://github.com/luowanqian/MachineLearning/tree/master/DecisionTree">GitHub</a></p>
</blockquote>
<p>利用Matplotlib可视化决策树，代码来源于《机器学习实战》，原始的Python代码使用了一些函数属性来实现属性全局共享，这里用全局变量替换了函数属性，并且支持中文标注，修改后的代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">Decision Tree Plotter</span><br><span class="line">Reference:</span><br><span class="line">    1. http://www.cnblogs.com/fantasy01/p/4595902.html</span><br><span class="line">    2. http://whatbeg.com/2016/04/23/matplotlib-desiciontree.html</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import matplotlib.font_manager as font_manager</span><br><span class="line">import os</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Chinese font setting</span><br><span class="line">font_path = os.path.abspath(&#x27;../resources/font/msyh.ttf&#x27;)</span><br><span class="line">prop = font_manager.FontProperties(fname=font_path)</span><br><span class="line"></span><br><span class="line">gAxis = None</span><br><span class="line">gDecison_node = dict(boxstyle=&#x27;sawtooth&#x27;, fc=&#x27;0.8&#x27;)</span><br><span class="line">gLeaf_node = dict(boxstyle=&#x27;round4&#x27;, fc=&quot;0.8&quot;)</span><br><span class="line">gArrow_args = dict(arrowstyle=&#x27;&lt;-&#x27;)</span><br><span class="line">gNum_leaves = 0</span><br><span class="line">gTree_depth = 0</span><br><span class="line">gX_offset = 0</span><br><span class="line">gY_offset = 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_num_leafs(tree):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    Identify the number of leaves in a tree</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    num_leafs = 0</span><br><span class="line">    first_str = list(tree.keys())[0]</span><br><span class="line">    second_dict = tree[first_str]</span><br><span class="line">    for key in second_dict.keys():</span><br><span class="line">        if isinstance(second_dict[key], dict):</span><br><span class="line">            num_leafs += get_num_leafs(second_dict[key])</span><br><span class="line">        else:</span><br><span class="line">            num_leafs += 1</span><br><span class="line"></span><br><span class="line">    return num_leafs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_tree_depth(tree):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    Identiy the depth of a tree</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    max_depth = 0</span><br><span class="line">    first_str = list(tree.keys())[0]</span><br><span class="line">    second_dict = tree[first_str]</span><br><span class="line">    for key in second_dict.keys():</span><br><span class="line">        if isinstance(second_dict[key], dict):</span><br><span class="line">            subtree_depth = 1 + get_tree_depth(second_dict[key])</span><br><span class="line">        else:</span><br><span class="line">            subtree_depth = 1</span><br><span class="line"></span><br><span class="line">        if subtree_depth &gt; max_depth:</span><br><span class="line">            max_depth = subtree_depth</span><br><span class="line"></span><br><span class="line">    return max_depth</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def plot_node(node_text, center_point, parent_point, node_type):</span><br><span class="line">    global gAxis</span><br><span class="line"></span><br><span class="line">    gAxis.annotate(node_text, xy=parent_point,</span><br><span class="line">                   xycoords=&#x27;axes fraction&#x27;,</span><br><span class="line">                   xytext=center_point,</span><br><span class="line">                   textcoords=&#x27;axes fraction&#x27;,</span><br><span class="line">                   va=&#x27;center&#x27;, ha=&#x27;center&#x27;,</span><br><span class="line">                   bbox=node_type, arrowprops=gArrow_args,</span><br><span class="line">                   fontproperties=prop)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def plot_mid_text(current_point, parent_point, text_str):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    Plot text between child and parent</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    global gAxis</span><br><span class="line"></span><br><span class="line">    x_mid = (parent_point[0] - current_point[0])/2.0 + current_point[0]</span><br><span class="line">    y_mid = (parent_point[1] - current_point[1])/2.0 + current_point[1]</span><br><span class="line">    gAxis.text(x_mid, y_mid, text_str, fontproperties=prop)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def plot_tree(tree, parent_point, node_text):</span><br><span class="line">    global gAxis, gDecison_node</span><br><span class="line">    global gNum_leaves, gTree_depth, gX_offset, gY_offset</span><br><span class="line"></span><br><span class="line">    num_leaves = get_num_leafs(tree)</span><br><span class="line">    first_str = list(tree.keys())[0]</span><br><span class="line">    current_point = (gX_offset+(1.0+float(num_leaves))/(2.0*gNum_leaves),</span><br><span class="line">                     gY_offset)</span><br><span class="line">    plot_mid_text(current_point, parent_point, node_text)</span><br><span class="line">    plot_node(first_str, current_point, parent_point, gDecison_node)</span><br><span class="line">    second_dict = tree[first_str]</span><br><span class="line">    gY_offset = gY_offset - 1.0/gTree_depth</span><br><span class="line">    for key in second_dict.keys():</span><br><span class="line">        if isinstance(second_dict[key], dict):</span><br><span class="line">            plot_tree(second_dict[key], current_point, str(key))</span><br><span class="line">        else:</span><br><span class="line">            gX_offset = gX_offset + 1.0/gNum_leaves</span><br><span class="line">            plot_node(second_dict[key], (gX_offset, gY_offset),</span><br><span class="line">                      current_point, gLeaf_node)</span><br><span class="line">            plot_mid_text((gX_offset, gY_offset), current_point, str(key))</span><br><span class="line">    gY_offset = gY_offset + 1.0/gTree_depth</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def create_plot(tree):</span><br><span class="line">    global gAxis, gNum_leaves, gTree_depth, gX_offset, gY_offset</span><br><span class="line"></span><br><span class="line">    fig = plt.figure(1, facecolor=&#x27;white&#x27;)</span><br><span class="line">    fig.clf()</span><br><span class="line">    axprops = dict(xticks=[], yticks=[])</span><br><span class="line">    gAxis = plt.subplot(111, frameon=False, **axprops)</span><br><span class="line">    gNum_leaves = float(get_num_leafs(tree))</span><br><span class="line">    gTree_depth = float(get_tree_depth(tree))</span><br><span class="line">    gX_offset = -1/(2.0 * gNum_leaves)</span><br><span class="line">    gY_offset = 1.0</span><br><span class="line">    plot_tree(tree, (0.5, 1.0), &#x27;&#x27;)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/fantasy01/p/4595902.html">机器学习实战决策树plotTree函数完全解析</a></li>
<li><a target="_blank" rel="noopener" href="http://whatbeg.com/2016/04/23/matplotlib-desiciontree.html">利用matplotlib画决策树</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/04/05/%E8%85%BE%E8%AE%AF2018%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B2%97%E5%AE%9E%E4%B9%A0%E7%AC%94%E8%AF%95%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/04/05/%E8%85%BE%E8%AE%AF2018%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B2%97%E5%AE%9E%E4%B9%A0%E7%AC%94%E8%AF%95%E9%A2%98/" class="post-title-link" itemprop="url">腾讯2018数据分析岗实习笔试题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-05 21:37:10" itemprop="dateCreated datePublished" datetime="2018-04-05T21:37:10+08:00">2018-04-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>题目分两大部分，第一部分是不定项选择题，题目有25道，第二部分是问答题，题目有3道。</p>
<h2 id="选择题"><a href="#选择题" class="headerlink" title="选择题"></a>选择题</h2><h3 id="问题1"><a href="#问题1" class="headerlink" title="问题1"></a>问题1</h3><p>同事小鹅在训练深度学习模型时发现训练集误差不断减少，测试集误差不断增大，以下解决方法错误的是</p>
<p>A. 数据增强</p>
<p>B. 增加网络深度</p>
<p>C. 提前停止训练</p>
<p>D. 添加dropout</p>
<h3 id="问题2"><a href="#问题2" class="headerlink" title="问题2"></a>问题2</h3><p>以下关于鞍点上的Hessian矩阵的描述哪个是正确的</p>
<p>A. 正定矩阵</p>
<p>B. 负定矩阵</p>
<p>C. 半正定矩阵</p>
<p>D. 都不对</p>
<h3 id="问题3"><a href="#问题3" class="headerlink" title="问题3"></a>问题3</h3><p>在最佳情况下，快速排序的运行时间复杂度是</p>
<p>A. $O(1)$</p>
<p>B. $O(N)$</p>
<p>C. $O(N \log N)$</p>
<p>D. $O(N^2)$</p>
<h3 id="问题4"><a href="#问题4" class="headerlink" title="问题4"></a>问题4</h3><p>以下图像为深度神经网络的激活函数的函数图像，最有可能发生梯度消失的是：</p>
<p>A. <img src="/2018/04/05/%E8%85%BE%E8%AE%AF2018%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B2%97%E5%AE%9E%E4%B9%A0%E7%AC%94%E8%AF%95%E9%A2%98/4-A.png" class="" width="300"></p>
<p>B. <img src="/2018/04/05/%E8%85%BE%E8%AE%AF2018%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B2%97%E5%AE%9E%E4%B9%A0%E7%AC%94%E8%AF%95%E9%A2%98/4-B.png" class="" width="300"></p>
<p>C. <img src="/2018/04/05/%E8%85%BE%E8%AE%AF2018%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B2%97%E5%AE%9E%E4%B9%A0%E7%AC%94%E8%AF%95%E9%A2%98/4-C.png" class="" width="300"></p>
<p>D. <img src="/2018/04/05/%E8%85%BE%E8%AE%AF2018%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B2%97%E5%AE%9E%E4%B9%A0%E7%AC%94%E8%AF%95%E9%A2%98/4-D.png" class="" width="300"></p>
<h3 id="问题5"><a href="#问题5" class="headerlink" title="问题5"></a>问题5</h3><p>使用冒泡排序对 <code>[5 7 0 9 2 3 1 4]</code> 进行从小到大排序，一共需要交换多少次</p>
<p>A. 15</p>
<p>B. 16</p>
<p>C. 17</p>
<p>D. 18</p>
<h3 id="问题6"><a href="#问题6" class="headerlink" title="问题6"></a>问题6</h3><p>《绝地求生》游戏中，共有1-3三个等级的头盔，1-3三个等级的防弹衣。假设你从无头盔、无防弹衣开始，每次只捡起没有的装备，或将低等级的装备换成高等级的对应装备，那么达到三级头盔、三级防弹衣，总共有多少种方法？ (比如用(x, y)表示当前(头盔，防弹衣)的级别，0为无对应装备，则(0, 0)-&gt;(1, 0)-&gt;(1, 3)-&gt;(3, 3)为一种方法)</p>
<p>A. 6</p>
<p>B. 20</p>
<p>C. 64</p>
<p>D. 106</p>
<h3 id="问题7"><a href="#问题7" class="headerlink" title="问题7"></a>问题7</h3><p>以下几种优化方法中，哪种对超参数最不敏感</p>
<p>A. SGD (stochastic gradient descent)</p>
<p>B. BGD (batch gradient descent)</p>
<p>C. Adadelta</p>
<p>D. Momentum</p>
<h3 id="问题8"><a href="#问题8" class="headerlink" title="问题8"></a>问题8</h3><p>关于时间复杂度下列说法错误的是</p>
<p>A. 二叉树插入操作的时间复杂度为 $O(\log N)$</p>
<p>B. 堆排序时间复杂度为 $O(N \log N)$</p>
<p>C. 希尔排序时间复杂度为 $O(N^{\frac{7}{5}})$</p>
<p>D. 桶排序最坏情况下时间复杂度为 $O(N^2)$</p>
<h3 id="问题9"><a href="#问题9" class="headerlink" title="问题9"></a>问题9</h3><p>设总体 $X$ 在区间 $[-1, 1]$ 上服从均匀分布，已知样本 $X_1, X_2, \ldots, X_n$ 的样本均值 $E(X)$ 和样本方差 $D(X)$，则 $D(\bar{X}) &#x3D; $</p>
<p>A. $0$</p>
<p>B. $\frac{1}{3}$</p>
<p>C. $\frac{1}{3} n$</p>
<p>D. $3$</p>
<h3 id="问题10"><a href="#问题10" class="headerlink" title="问题10"></a>问题10</h3><p>设随机变量 $X$ 满足：$E(X) &#x3D; \mu$，$D(X) &#x3D; \sigma^2$，则由切比雪夫不等式，有 $P(\vert X - \mu | \ge 4 \sigma) \le$</p>
<p>A. $\frac{1}{4}$</p>
<p>B. $\frac{1}{2}$</p>
<p>C. $\frac{1}{16}$</p>
<p>D. $\frac{1}{8}$</p>
<h3 id="问题11"><a href="#问题11" class="headerlink" title="问题11"></a>问题11</h3><p>对 $n$ 个观测样本点 $(x, y)$ 进行无截距的线性回归拟合，使得残差平方和最小，回归方程为 $y&#x3D;kx$，则可推导出回归系数 $k$ 为？</p>
<p>A. $k &#x3D; \frac{\sum_{i&#x3D;0}^n x_i y_i - n \bar{x} \bar{y}}{\sum_{i&#x3D;0}^n x_i^2 - n \bar{x}^2}$</p>
<p>B. $k &#x3D; \frac{\bar{y}}{\bar{x}}$</p>
<p>C. $k &#x3D; \frac{\sum_{i&#x3D;0}^n x_i y_i }{\sum_{i&#x3D;0}^n x_i^2}$</p>
<p>D. 均不正确</p>
<h3 id="问题12"><a href="#问题12" class="headerlink" title="问题12"></a>问题12</h3><p>一生产线生产的产品成箱包装，假设每箱平均重50kg，标准差为3kg。若用最大载重量为5000kg的汽车来承运，试用中心极限定理计算每辆车最多装多少箱，才能保证汽车不超载的概率大于0.84 (设 $\Phi(1) &#x3D;0.84$，其中 $\Phi(x)$ 是标准正太分布 $N(0, 1)$ 的分布函数)</p>
<p>A. 最多装96箱</p>
<p>B. 最多装97箱</p>
<p>C. 最多装98箱</p>
<p>D. 最多装99箱</p>
<h3 id="问题13"><a href="#问题13" class="headerlink" title="问题13"></a>问题13</h3><p>分层抽样方法，在下面哪种情况下是比较合适的选择</p>
<p>A. 研究的总体非常小</p>
<p>B. 在调研中希望了解不同子群体的差异</p>
<p>C. 总体中只有一部分样本是可以调研的</p>
<p>D. 没有先验的总体信息</p>
<h3 id="问题14"><a href="#问题14" class="headerlink" title="问题14"></a>问题14</h3><p>在无线网络中分别以概率0.6和概率0.4，发出信号”0”和”1”，由于通讯系统受到干扰，当发送”0”时，接收方以概率0.8收到”0”，概率0.2收到”1”，当发送”1”时，接收方以概率0.9收到”1”，概率0.1收到”0”，则下列说法正确的是</p>
<p>(1) 收到信号”0”的概率是0.52</p>
<p>(2) 收到信号”0”时，发出信号也是”0”的概率是12&#x2F;13</p>
<p>A. (1) 和(2)都错误</p>
<p>B. (1)正确，(2)错误</p>
<p>C. (1)错误，(2)正确</p>
<p>D. (1)和(2)都正确</p>
<h3 id="问题15"><a href="#问题15" class="headerlink" title="问题15"></a>问题15</h3><p>已知 $f(x) &#x3D; 3x^2 + 4x f’(x)$，则 $f’(0) &#x3D;$</p>
<p>A. -8</p>
<p>B. -16</p>
<p>C. -24</p>
<p>D. -32</p>
<h3 id="问题16"><a href="#问题16" class="headerlink" title="问题16"></a>问题16</h3><p>函数 $f(x)$ 在 $x&#x3D;b$ 处导数存在，为 $f’(b)$。则 $\lim_{h \to 0} \frac{f(b + 4h) - f(b - 2h)}{2h}$</p>
<p>A. $f’(b)$</p>
<p>B. $\frac{1}{3} f’(b)$</p>
<p>C. $3 f’(b)$</p>
<p>D. $2 f’(b)$</p>
<h3 id="问题17"><a href="#问题17" class="headerlink" title="问题17"></a>问题17</h3><p>对于矩阵 $A$，已知 Rank(A) &#x3D; 3，以下哪项是K可能的值？<br>$$<br>A &#x3D; \begin{bmatrix}<br>K &amp; 1 &amp; 1 &amp; 1 \<br>1 &amp; K &amp; 1 &amp; 1 \<br>1 &amp; 1 &amp; K &amp; 1 \<br>1 &amp; 1 &amp; 1 &amp; K<br>\end{bmatrix}<br>$$<br>A. K&#x3D;-1</p>
<p>B. K&#x3D;-3 或 K&#x3D;-1</p>
<p>C. K&#x3D;-3</p>
<p>D. k&#x3D;3 或 K&#x3D;-1</p>
<h3 id="问题18"><a href="#问题18" class="headerlink" title="问题18"></a>问题18</h3><p>下面哪种情况是用图的深度优先遍历方法得到的结果</p>
<img src="/2018/04/05/%E8%85%BE%E8%AE%AF2018%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B2%97%E5%AE%9E%E4%B9%A0%E7%AC%94%E8%AF%95%E9%A2%98/18.png" class="" width="300">

<p>A. 1, 2, 3, 4, 5, 6</p>
<p>B. 1, 2, 4, 6, 5, 3</p>
<p>C. 1, 3, 5, 2, 4, 6</p>
<p>D. 1, 3, 2, 5, 4, 6</p>
<h3 id="问题19"><a href="#问题19" class="headerlink" title="问题19"></a>问题19</h3><p>$Ax &#x3D; 0$ 中 $A$ 是以下参数，哪个方程组有非零解？</p>
<p>A<br>$$<br>\begin{bmatrix}<br>-3 &amp; 4 &amp; -8 \<br>-2 &amp; 5 &amp; 5<br>\end{bmatrix}<br>$$<br>B<br>$$<br>\begin{bmatrix}<br>2 &amp; -5 &amp; 8 \<br>-2 &amp; -7 &amp; 1\<br>4 &amp; 2 &amp; 7<br>\end{bmatrix}<br>$$<br>C<br>$$<br>\begin{bmatrix}<br>-3 &amp; 4 &amp; -8 \<br>-2 &amp; 5 &amp; 4<br>\end{bmatrix}<br>$$<br>D<br>$$<br>\begin{bmatrix}<br>2 &amp; -5 &amp; 9 \<br>-2 &amp; -7 &amp; 1 \<br>4 &amp; 2 &amp; 7<br>\end{bmatrix}<br>$$</p>
<h3 id="问题20"><a href="#问题20" class="headerlink" title="问题20"></a>问题20</h3><p>给一个整数数组，需要快速查找指定的一个整数是否在其中，需要哪些操作</p>
<p>A. 二分查找</p>
<p>B. 排序</p>
<p>C. 排序，二分查找</p>
<p>D. 顺序遍历</p>
<h3 id="问题21"><a href="#问题21" class="headerlink" title="问题21"></a>问题21</h3><p>若 $f(x) &#x3D; \int_{x}^{x^3} e^{-t^2} dt$，则 $f’(x) &#x3D;$</p>
<p>A. $3x^2e^{-x^6} - e^{-x^2}$</p>
<p>B. $2x e^{-x^6} - e^{-x}$</p>
<p>C. $2x e^{-x^4} - e^{-x^2}$</p>
<p>D. $3x^2 e^{-x^6} - e^{-x}$</p>
<h3 id="问题22"><a href="#问题22" class="headerlink" title="问题22"></a>问题22</h3><p>给定一组数据，以下哪种方法可以检验数据是否服从正态分布？</p>
<p>A. Q-Q图</p>
<p>B. Wilcoxon符号秩检验</p>
<p>C. K-S检验</p>
<p>D. t检验</p>
<h3 id="问题23"><a href="#问题23" class="headerlink" title="问题23"></a>问题23</h3><p>关于秩统计量，下列说法正确的是：</p>
<p>A. 需要总体分布符合特定分布</p>
<p>B. 需要总体参数满足一定条件</p>
<p>C. 不需要总体分布符合特定分布</p>
<p>D. 检验统计量与总体分布的具体参数无关</p>
<h3 id="问题24"><a href="#问题24" class="headerlink" title="问题24"></a>问题24</h3><p>下列关于协方差和相关系数的说法，正确的是？(假定X、Y是两个变量)</p>
<p>A. 协方差的正或负，反映两个变量X、Y是同向变化或反向变化</p>
<p>B. 协方差的绝对值，反映两个变量X、Y同向或反向变化的程度</p>
<p>C. 两个变量的相关系数是消除量纲和标准化之后的特殊的协方差</p>
<p>D. 相关系数反应两个变量每单位变化的相似程度</p>
<h3 id="问题25"><a href="#问题25" class="headerlink" title="问题25"></a>问题25</h3><p>克莱姆法则是线性代数中一个关于求解线性方程组的定理。对于一个具有N个方程、N个未知数的线性方程组，下列说法正确的是：</p>
<p>A. 当方程组的系数行列式不等于零时，则方程组一定有解</p>
<p>B. 如果方程组有两个不同的解，那么方程组的系数行列式必定等于零</p>
<p>C. 如果方程组的系数行列式等于零，那么方程组一定无解</p>
<p>D. 当方程组的系数行列式不等于零时，则方程组可能有多组解</p>
<h2 id="问答题"><a href="#问答题" class="headerlink" title="问答题"></a>问答题</h2><h3 id="问题1-1"><a href="#问题1-1" class="headerlink" title="问题1"></a>问题1</h3><p>试论述机器学习模型中的偏差 (Bias) 和方差 (Variance)，并说明各种情况下的解决办法。</p>
<h3 id="问题2-1"><a href="#问题2-1" class="headerlink" title="问题2"></a>问题2</h3><p>请简诉数理统计中假设检验的基本步骤。</p>
<h3 id="问题3-1"><a href="#问题3-1" class="headerlink" title="问题3"></a>问题3</h3><p>假如你现在能够拿到微信用户的定位信息 (位置信息)，比如用户每一分钟会上传自己的位置到后台。请发挥你的想象力，这些定位数据能够做哪些事情，可以创造哪些社会价值。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/04/03/LeetCode-191-Number-of-1-Bits/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/04/03/LeetCode-191-Number-of-1-Bits/" class="post-title-link" itemprop="url">LeetCode 191 - Number of 1 Bits</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-03 12:27:25" itemprop="dateCreated datePublished" datetime="2018-04-03T12:27:25+08:00">2018-04-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Write a function that takes an unsigned integer and returns the number of ‘1’ bits it has (also known as the <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Hamming_weight">Hamming weight</a>).</p>
<p>For example, the 32-bit integer ‘11’ has binary representation <code>00000000000000000000000000001011</code>, so the function should return 3.</p>
<p><strong>Related Topics:</strong> Bit Manipulation</p>
<p>原问题：<a target="_blank" rel="noopener" href="https://leetcode.com/problems/number-of-1-bits/description/">191. Number of 1 Bits</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>这个问题需要要用到位运算中的与运算<code>&amp;</code>，与运算规则如下所示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0 &amp; 0 = 0</span><br><span class="line">0 &amp; 1 = 0</span><br><span class="line">1 &amp; 0 = 0</span><br><span class="line">1 &amp; 1 = 1</span><br></pre></td></tr></table></figure>

<h3 id="方案1"><a href="#方案1" class="headerlink" title="方案1"></a>方案1</h3><p>第一个解决方案是先判断数字二进制表示中最右边一位是不是1；接着把输入的数字右移一位，此时原来处于从右边数起的第二位被移到最右边了，再判断是不是1；这样每次移动一位，直到数字变成0为止。这个方案关键之处在于怎么判断一个数字的二进制表示的最右边一位是不是1。其实这个可以用与运算解决，只要把这个数字和1做与运算看结果是不是0就知道了，如果数字与1做与运算的结果是1，则表示数字的二进制表示的最右边一位是1，否则是0。</p>
<blockquote>
<p>补充：这个解决方案针对无符号数字有效，对于有符号数字无效，因为有符号数字右移时，最高位会补1，此时如果使用数字变为0作为循环结束条件时，会陷入死循环，因此应该用for循环，循环次数为数字二进制的位数。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    int hammingWeight(uint32_t n)</span><br><span class="line">    &#123;</span><br><span class="line">        int num_bits;</span><br><span class="line"></span><br><span class="line">        num_bits = 0;</span><br><span class="line">        while (n) &#123;</span><br><span class="line">            if (n &amp; 1)</span><br><span class="line">                num_bits++;</span><br><span class="line">            n = n &gt;&gt; 1;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return num_bits;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="方案2"><a href="#方案2" class="headerlink" title="方案2"></a>方案2</h3><p>第二个解决方案是首先把数字与1做与运算，判断数字的二进制表示的最低位是不是1，接着把1左移1位，再和数字做与运算，就能判断数字的二进制表示的次低位是不是1，这样反复左移，直到所有位都被进行过与运算。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    int hammingWeight(uint32_t n)</span><br><span class="line">    &#123;</span><br><span class="line">        int num_bits;</span><br><span class="line">        uint32_t flag;</span><br><span class="line"></span><br><span class="line">        num_bits = 0;</span><br><span class="line">        flag = 1;</span><br><span class="line">        while (flag) &#123;</span><br><span class="line">            if (flag &amp; n)</span><br><span class="line">                num_bits++;</span><br><span class="line">            flag = flag &lt;&lt; 1;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return num_bits;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>这个方案的循环次数等于数字的二进制的位数，方案一的循环次数由该数字的二进制表示中的最高位1的位置决定，在最坏情况下，方案一的循环次数等于数字的二进制的位数。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/04/03/CMake%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/04/03/CMake%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">CMake使用笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-03 08:24:31" itemprop="dateCreated datePublished" datetime="2018-04-03T08:24:31+08:00">2018-04-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本文主要记录一些CMake的常见用法，例子代码都可以在<a target="_blank" rel="noopener" href="https://github.com/luowanqian/CMakeDemos">CMakeDemos</a>这里找到。</p>
<h2 id="单个源文件"><a href="#单个源文件" class="headerlink" title="单个源文件"></a>单个源文件</h2><blockquote>
<p>代码：<a target="_blank" rel="noopener" href="https://github.com/luowanqian/CMakeDemos/tree/master/Demo1">Demo1</a></p>
</blockquote>
<p>目录里面只有一个源文件，这个最简单的情况。目录结构如下所示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Demo1</span><br><span class="line">├── CMakeLists.txt</span><br><span class="line">├── build</span><br><span class="line">└── main.cpp</span><br></pre></td></tr></table></figure>

<p>文件 CMakeLists.txt 内容如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># CMake 最低版本号要求</span><br><span class="line">cmake_minimum_required(VERSION 3.9)</span><br><span class="line"></span><br><span class="line"># 项目信息</span><br><span class="line">project(Demo1)</span><br><span class="line"></span><br><span class="line"># 指定生成目标</span><br><span class="line">add_executable(Demo main.cpp)</span><br></pre></td></tr></table></figure>

<p>符号<code>#</code>后面的内容被认为是注释。由<code>add_executable</code>知道，最终编译出的可执行文件是 Demo。</p>
<h3 id="编译项目"><a href="#编译项目" class="headerlink" title="编译项目"></a>编译项目</h3><p>如果在源码目录中直接使用命令<code>cmake .</code>生成Makefile文件的话，会发现目录多出很多文件，这样会导致目录内容很乱，通常做法是在一个目录里面生成CMake的临时文件，这里选择在目录 build 中生成。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">➜  Demo1 git:(master) cd build</span><br><span class="line">➜  build git:(master) cmake ..</span><br><span class="line">-- The C compiler identification is AppleClang 8.0.0.8000042</span><br><span class="line">-- The CXX compiler identification is AppleClang 8.0.0.8000042</span><br><span class="line">-- Check for working C compiler: /Library/Developer/CommandLineTools/usr/bin/cc</span><br><span class="line">-- Check for working C compiler: /Library/Developer/CommandLineTools/usr/bin/cc -- works</span><br><span class="line">-- Detecting C compiler ABI info</span><br><span class="line">-- Detecting C compiler ABI info - done</span><br><span class="line">-- Detecting C compile features</span><br><span class="line">-- Detecting C compile features - done</span><br><span class="line">-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/c++</span><br><span class="line">-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/c++ -- works</span><br><span class="line">-- Detecting CXX compiler ABI info</span><br><span class="line">-- Detecting CXX compiler ABI info - done</span><br><span class="line">-- Detecting CXX compile features</span><br><span class="line">-- Detecting CXX compile features - done</span><br><span class="line">-- Configuring done</span><br><span class="line">-- Generating done</span><br><span class="line">-- Build files have been written to: /Users/luowanqian/Documents/Project/CMakeDemos/Demo1/build</span><br><span class="line">➜  build git:(master) make</span><br><span class="line">Scanning dependencies of target Demo</span><br><span class="line">[ 50%] Building CXX object CMakeFiles/Demo.dir/main.cpp.o</span><br><span class="line">[100%] Linking CXX executable Demo</span><br><span class="line">[100%] Built target Demo</span><br><span class="line">➜  build git:(master) ./Demo</span><br><span class="line">Sqrt(2) is 1.41421</span><br><span class="line">➜  build git:(master)</span><br></pre></td></tr></table></figure>

<p>进入<code>build</code>目录，然后使用命令<code>cmake ..</code>生成Makefile文件，然后使用<code>make</code>命令编译得到可执行文件<code>Demo</code>。</p>
<h2 id="同一个目录，多个源文件"><a href="#同一个目录，多个源文件" class="headerlink" title="同一个目录，多个源文件"></a>同一个目录，多个源文件</h2><blockquote>
<p>代码：<a target="_blank" rel="noopener" href="https://github.com/luowanqian/CMakeDemos/tree/master/Demo2">Demo2</a></p>
</blockquote>
<p>在同一个目录里面，有个多个源文件，此时目录结构如下所示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Demo2</span><br><span class="line">├── CMakeLists.txt</span><br><span class="line">├── MathFunctions.cpp</span><br><span class="line">├── MathFunctions.h</span><br><span class="line">├── build</span><br><span class="line">└── main.cpp</span><br></pre></td></tr></table></figure>

<p>此时 MathFunctions.cpp 里面实现了一个函数 mysqrt，main.cpp 会调用这个函数。此时文件 CMakeLists.txt 的内容如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># CMake 最低版本号要求</span><br><span class="line">cmake_minimum_required(VERSION 3.9)</span><br><span class="line"></span><br><span class="line"># 项目信息</span><br><span class="line">project(Demo2)</span><br><span class="line"></span><br><span class="line"># 指定生成目标</span><br><span class="line">add_executable(Demo main.cpp MathFunctions.cpp)</span><br></pre></td></tr></table></figure>

<p>大致内容同前一节的所写的那样，只不过<code>add_executable</code>里面多了 MathFunctions.cpp 项。</p>
<h2 id="多个目录，多个源文件"><a href="#多个目录，多个源文件" class="headerlink" title="多个目录，多个源文件"></a>多个目录，多个源文件</h2><blockquote>
<p>代码：<a target="_blank" rel="noopener" href="https://github.com/luowanqian/CMakeDemos/tree/master/Demo3">Demo3</a></p>
</blockquote>
<p>有时候我们不想把所有源文件放到同一个目录里面，想根据实现的功能放到不同的目录中，前面的 MathFunctions.cpp 实现了数学函数功能，因此这里把它放入 Math 目录中，此时目录结构如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Demo3</span><br><span class="line">├── CMakeLists.txt</span><br><span class="line">├── build</span><br><span class="line">├── main.cpp</span><br><span class="line">└── math</span><br><span class="line">    ├── CMakeLists.txt</span><br><span class="line">    ├── MathFunctions.cpp</span><br><span class="line">    └── MathFunctions.h</span><br></pre></td></tr></table></figure>

<p>对于这种情况，需要分别在项目根目录 Demo3 和 math 目录中分别编写 CMakeLists.txt 文件。在项目编译时，现将 math 目录里的文件编译成静态库再链接到程序 Demo 中。</p>
<h3 id="根目录CMakeLists-txt"><a href="#根目录CMakeLists-txt" class="headerlink" title="根目录CMakeLists.txt"></a>根目录CMakeLists.txt</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># CMake 最低版本号要求</span><br><span class="line">cmake_minimum_required(VERSION 3.9)</span><br><span class="line"></span><br><span class="line"># 项目信息</span><br><span class="line">project(Demo3)</span><br><span class="line"></span><br><span class="line"># 添加 math 子目录</span><br><span class="line">add_subdirectory(math)</span><br><span class="line"></span><br><span class="line"># 添加 math 到头文件搜索路径</span><br><span class="line">include_directories(math)</span><br><span class="line"></span><br><span class="line"># 指定生成目标</span><br><span class="line">add_executable(Demo main.cpp)</span><br><span class="line"></span><br><span class="line"># 添加链接库</span><br><span class="line">target_link_libraries(Demo MathFunctions)</span><br></pre></td></tr></table></figure>

<p>文件的使用命令<code>add_subdirectory</code>添加子目录 math，这个命令很类似Makefile中的<code>include</code>命令，使用该命令后，CMake会处理 math 目录下的 CMakeLists.txt。这里还用了命令<code>include_directories</code>，主要是文件 main.cpp 会调用头文件 MathFunctions.h。链接静态库使用命令<code>target_link_libraries</code>，其中 MathFunctions 是静态库的名称，定义在 math 目录的 CMakeLists.txt 中。</p>
<h3 id="math目录CMakeLists-txt"><a href="#math目录CMakeLists-txt" class="headerlink" title="math目录CMakeLists.txt"></a>math目录CMakeLists.txt</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add_library(MathFunctions MathFunctions.cpp)</span><br></pre></td></tr></table></figure>

<p>子目录的 CMakeLists.txt 文件内容如上，使用命令<code>add_library</code>命令将本目录的源文件编译为静态链接库，名称为 MathFunctions。</p>
<h2 id="自定义编译选项"><a href="#自定义编译选项" class="headerlink" title="自定义编译选项"></a>自定义编译选项</h2><blockquote>
<p>代码：<a target="_blank" rel="noopener" href="https://github.com/luowanqian/CMakeDemos/tree/master/Demo4">Demo4</a></p>
</blockquote>
<p>CMake可以项目设置编译选项，例如可以将 MathFunctions 库设为一个可选的库，如果该选项为 <code>ON</code>，则使用该库中的函数来进行运算，否则使用标准库的数学函数进行运算。首先看看项目目录的结构</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Demo4</span><br><span class="line">├── CMakeLists.txt</span><br><span class="line">├── build</span><br><span class="line">├── config.h.in</span><br><span class="line">├── main.cpp</span><br><span class="line">└── math</span><br><span class="line">    ├── CMakeLists.txt</span><br><span class="line">    ├── MathFunctions.cpp</span><br><span class="line">    └── MathFunctions.h</span><br></pre></td></tr></table></figure>

<p>目录中比上一节的目录结构中多了一个文件 config.h.in，CMake会将文件 config.h.in 转换成 config.h，这个头文件主要是定义了一些宏，源文件可以包含这个头文件，根据里面调用的宏来确定是否调用某个功能，所谓编译选项说白就是一堆宏。上面描述可能有点抽象，下面详细介绍各个文件内容</p>
<h3 id="根目录CMakeLists-txt-1"><a href="#根目录CMakeLists-txt-1" class="headerlink" title="根目录CMakeLists.txt"></a>根目录CMakeLists.txt</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># CMake 最低版本号要求</span><br><span class="line">cmake_minimum_required(VERSION 3.9)</span><br><span class="line"></span><br><span class="line"># 项目信息</span><br><span class="line">project(Demo3)</span><br><span class="line"></span><br><span class="line"># 是否使用 MathFunctions 库选项</span><br><span class="line">option(USE_MYMATH &quot;Use provided math implementation&quot; ON)</span><br><span class="line"></span><br><span class="line"># 生成一个配置头文件</span><br><span class="line">configure_file(</span><br><span class="line">    &quot;$&#123;PROJECT_SOURCE_DIR&#125;/config.h.in&quot;</span><br><span class="line">    &quot;$&#123;PROJECT_BINARY_DIR&#125;/config.h&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># 是否加入 MathFunctions 库</span><br><span class="line">if (USE_MYMATH)</span><br><span class="line">    include_directories(&quot;$&#123;PROJECT_SOURCE_DIR&#125;/math&quot;)</span><br><span class="line">    add_subdirectory(math)</span><br><span class="line">    set(EXTRA_LIBS $&#123;EXTRA_LIBS&#125; MathFunctions)</span><br><span class="line">endif(USE_MYMATH)</span><br><span class="line"></span><br><span class="line"># 使得 CMake 可以找到生成的 config.h</span><br><span class="line">include_directories(&quot;$&#123;PROJECT_BINARY_DIR&#125;&quot;)</span><br><span class="line"></span><br><span class="line"># 指定生成目标</span><br><span class="line">add_executable(Demo main.cpp)</span><br><span class="line"></span><br><span class="line"># 添加链接库</span><br><span class="line">target_link_libraries(Demo $&#123;EXTRA_LIBS&#125;)</span><br></pre></td></tr></table></figure>

<p>文件中<code>configure_file</code>命令用于生成配置头文件 config.h，这个头文件由CMake从 config.h.in 中生成，config.h.in 这个文件里面有用户自己定义的编译选项，其中 <code>USE_MYMATH</code> 就是定义在文件 <code>config.h.in</code> 中，这里使用命令 <code>option</code> 默认开启这个选项，然后后面的 if 语句根据 <code>USE_MYMATH</code> 变量的值来决定是否使用我们自己的编写的数学函数库，由于 <code>USE_MYATH</code> 为 ON，所以默认是使用我们自己的库。</p>
<h3 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a>main.cpp</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line"></span><br><span class="line">#include &quot;config.h&quot;</span><br><span class="line"></span><br><span class="line">#ifdef USE_MYMATH</span><br><span class="line">#include &quot;MathFunctions.h&quot;</span><br><span class="line">#endif</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">#ifdef USE_MYMATH</span><br><span class="line">    cout &lt;&lt; &quot;Now we use our own Math library.&quot; &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; &quot;Sqrt(2) is &quot; &lt;&lt; mysqrt(2) &lt;&lt; endl;</span><br><span class="line">#else</span><br><span class="line">    cout &lt;&lt; &quot;Now we use the standard libary.&quot; &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; &quot;Sqrt(2) is &quot; &lt;&lt; sqrt(2) &lt;&lt; endl;</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>源文件中可以使用我们定义 <code>USE_MYMATH</code> 来决定是否调用自己编写的库，要使用这个宏，需要包含 config.h 这个头文件，这个头文件是CMake根据 config.h.in 生成。</p>
<h3 id="config-h-in"><a href="#config-h-in" class="headerlink" title="config.h.in"></a>config.h.in</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#cmakedefine USE_MYMATH</span><br></pre></td></tr></table></figure>

<p>编译选项 <code>USE_MYMATH</code> 定义在这个文件中。</p>
<h3 id="编译项目-1"><a href="#编译项目-1" class="headerlink" title="编译项目"></a>编译项目</h3><p>现在编译这个项目，为了便于交互式的修改编译选项，可以使用 <code>ccmake</code> 命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">➜  Demo4 git:(master) ✗ ll</span><br><span class="line">total 24</span><br><span class="line">-rw-r--r--  1 luowanqian  staff   722B  4  3 10:07 CMakeLists.txt</span><br><span class="line">drwxr-xr-x  2 luowanqian  staff    68B  4  3 10:11 build</span><br><span class="line">-rw-r--r--  1 luowanqian  staff    23B  4  2 08:46 config.h.in</span><br><span class="line">-rw-r--r--  1 luowanqian  staff   398B  4  2 08:54 main.cpp</span><br><span class="line">drwxr-xr-x  5 luowanqian  staff   170B  4  2 08:44 math</span><br><span class="line">➜  Demo4 git:(master) ✗ cd build</span><br><span class="line">➜  build git:(master) ✗ cmake ..</span><br><span class="line">-- The C compiler identification is AppleClang 8.0.0.8000042</span><br><span class="line">-- The CXX compiler identification is AppleClang 8.0.0.8000042</span><br><span class="line">-- Check for working C compiler: /Library/Developer/CommandLineTools/usr/bin/cc</span><br><span class="line">-- Check for working C compiler: /Library/Developer/CommandLineTools/usr/bin/cc -- works</span><br><span class="line">-- Detecting C compiler ABI info</span><br><span class="line">-- Detecting C compiler ABI info - done</span><br><span class="line">-- Detecting C compile features</span><br><span class="line">-- Detecting C compile features - done</span><br><span class="line">-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/c++</span><br><span class="line">-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/c++ -- works</span><br><span class="line">-- Detecting CXX compiler ABI info</span><br><span class="line">-- Detecting CXX compiler ABI info - done</span><br><span class="line">-- Detecting CXX compile features</span><br><span class="line">-- Detecting CXX compile features - done</span><br><span class="line">-- Configuring done</span><br><span class="line">-- Generating done</span><br><span class="line">-- Build files have been written to: /Users/luowanqian/Documents/Project/CMakeDemos/Demo4/build</span><br><span class="line">➜  build git:(master) ✗ ccmake ..</span><br></pre></td></tr></table></figure>

<img src="/2018/04/03/CMake%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/ccmake.png" class="" title="ccmake">

<p>从中可以找到刚刚定义的<code>USE_MYMATH</code>选项，按键盘的方向键可以在不同的选项窗口间跳转，按下<code>enter</code>键可以修改该选项。修改完成后可以按下<code>c</code>键完成配置，之后再按<code>g</code>键确认生成 Makefile。下面分别展示将<code>USE_MYMATH</code>设为<code>ON</code>和<code>OFF</code>得到的结果：</p>
<p><strong>USE_MYMATH 设为 ON</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">➜  build git:(master) ✗ make</span><br><span class="line">Scanning dependencies of target MathFunctions</span><br><span class="line">[ 25%] Building CXX object math/CMakeFiles/MathFunctions.dir/MathFunctions.cpp.o</span><br><span class="line">[ 50%] Linking CXX static library libMathFunctions.a</span><br><span class="line">[ 50%] Built target MathFunctions</span><br><span class="line">Scanning dependencies of target Demo</span><br><span class="line">[ 75%] Building CXX object CMakeFiles/Demo.dir/main.cpp.o</span><br><span class="line">[100%] Linking CXX executable Demo</span><br><span class="line">[100%] Built target Demo</span><br><span class="line">➜  build git:(master) ✗ ./Demo</span><br><span class="line">Now we use our own Math library.</span><br><span class="line">Sqrt(2) is 1.41421</span><br><span class="line">➜  build git:(master) ✗</span><br></pre></td></tr></table></figure>

<p><strong>USE_MYMATH 设为 OFF</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">➜  build git:(master) ✗ make</span><br><span class="line">Scanning dependencies of target Demo</span><br><span class="line">[ 50%] Building CXX object CMakeFiles/Demo.dir/main.cpp.o</span><br><span class="line">[100%] Linking CXX executable Demo</span><br><span class="line">[100%] Built target Demo</span><br><span class="line">➜  build git:(master) ✗ ./Demo</span><br><span class="line">Now we use the standard libary.</span><br><span class="line">Sqrt(2) is 1.41421</span><br></pre></td></tr></table></figure>

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a target="_blank" rel="noopener" href="http://www.hahack.com/codes/cmake/">CMake入门实战</a></li>
<li><a target="_blank" rel="noopener" href="https://cmake.org/cmake-tutorial/">CMake Tutorial</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/03/30/LeetCode-167-Two-Sum-II-Input-array-is-sorted/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/03/30/LeetCode-167-Two-Sum-II-Input-array-is-sorted/" class="post-title-link" itemprop="url">LeetCode 167 - Two Sum II - Input array is sorted</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-03-30 23:30:48" itemprop="dateCreated datePublished" datetime="2018-03-30T23:30:48+08:00">2018-03-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Given an array of integers that is already <strong>sorted in ascending order</strong>, find two numbers such that they add up to a specific target number.</p>
<p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p>
<p>You may assume that each input would have exactly one solution and you may not use the same element twice.</p>
<p><strong>Input:</strong> numbers&#x3D;{2, 7, 11, 15}, target&#x3D;9</p>
<p><strong>Output:</strong> index1&#x3D;1, index2&#x3D;2</p>
<p><strong>Related Topics:</strong> Array, Two Pointers, Binary Search</p>
<p>原问题：<a target="_blank" rel="noopener" href="https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/description/">167. Two Sum II - Input array is sorted</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>考虑我们在数组中选择两个数字，如果它们的和等于输入的 target，那么我们就找到了要找的这两个数字。如果和小于 target 呢？我们希望两个数字的和再大一点。由于数组已经排序好了，我们可以考虑选择较小的数字后面的数字。因为排在后面的数字要大一些，那么两个数字的和也要大一些，就有可能等于输入的数字 target 了。同样，当两个数字的和大于输入 target 的时候，我们可以选择较大数字前面的数字，因为排在数字前面的数字要小一些。</p>
<p>根据上面的思路，我们可以设定两个指针 point1 和 point2，point1 指向数组的第一个元素，point2 指向数组的最后一个元素，然后根据上面的判断准则，当两个指针指向的数字之和小于 target 时，指针 point1 加一，反之指针 point2 减一，通过不断地迭代，直到数组被遍历完。实现代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; numbers, int target)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;int&gt; idx;</span><br><span class="line"></span><br><span class="line">        if (numbers.size() &lt; 2)</span><br><span class="line">            return idx;</span><br><span class="line"></span><br><span class="line">        int left, right;</span><br><span class="line">        left = 0;</span><br><span class="line">        right = numbers.size()-1;</span><br><span class="line">        while (left &lt; right) &#123;</span><br><span class="line">            if (numbers[left] + numbers[right] &lt; target) &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; else if (numbers[left] + numbers[right] &gt; target) &#123;</span><br><span class="line">                right--;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                idx.push_back(left+1);</span><br><span class="line">                idx.push_back(right+1);</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return idx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    Solution solu;</span><br><span class="line">    vector&lt;int&gt; nums &#123;2, 7, 11, 15&#125;;</span><br><span class="line">    int target = 9;</span><br><span class="line">    vector&lt;int&gt; idx = solu.twoSum(nums, target);</span><br><span class="line">    if (idx.size() &lt; 2)</span><br><span class="line">        cout &lt;&lt; &quot;Not found&quot; &lt;&lt; endl;</span><br><span class="line">    else</span><br><span class="line">        cout &lt;&lt; &quot;index1=&quot; &lt;&lt; idx[0]</span><br><span class="line">             &lt;&lt; &quot;, index2=&quot; &lt;&lt; idx[1] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/03/30/LeetCode-15-3Sum/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luo Wanqian">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="袋熊的树洞">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/03/30/LeetCode-15-3Sum/" class="post-title-link" itemprop="url">LeetCode 15 - 3Sum</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-03-30 23:29:51" itemprop="dateCreated datePublished" datetime="2018-03-30T23:29:51+08:00">2018-03-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-02 21:44:33" itemprop="dateModified" datetime="2025-03-02T21:44:33+08:00">2025-03-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>Given an array S of n integers, are there elements a, b, c in S such that a + b + c &#x3D; 0? Find all unique triplets in the array which gives the sum of zero.</p>
<p><strong>Note:</strong> The solution set must not contain duplicate triplets.</p>
<blockquote>
<p>For example, given array S &#x3D; [-1, 0, 1, 2, -1, -4],</p>
<p>A solution set is:</p>
<p>[ [-1, 0, 1], [-1, -1, 2] ]</p>
</blockquote>
<p><strong>Related Topics:</strong> Array, Two Pointers</p>
<p>原问题：<a target="_blank" rel="noopener" href="https://leetcode.com/problems/3sum/description/">15. 3Sum</a></p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>这个问题是 <a target="_blank" rel="noopener" href="https://leetcode.com/problems/two-sum/description/">2Sum</a> 问题的一个扩展，题目不仅要求输出满足条件的数字对，而且要保证数字对不能重复。咋一看问题有点无从下手，但是 3Sum 问题可以转换成 2Sum 问题，如果我们固定数字 $a$，那么剩下的问题就变成 2Sum 问题了，也就是寻找数字 $b$ 和数字 $c$，使得 $b+c &#x3D; -a$，这里有个问题就是如何选取数字 $a$，看题目给的例子的输出，我们发现输出的数字对里面的元素是有序的，这里启示我们可以作一个假设，那就是 $a \le b \le c$，因此关于如何选取数字 $a$ 可以先对输入的数组进行从小到大排序，然后从头开始遍历数组，这里设访问到的第 $i$ 个元素作为数字 $a$，然后数组 $i+1$ 的元素到最后一个元素作为数字 $b$ 和数字 $c$ 的搜索区间，此时问题已经变成一个有序数组的 2Sum 问题，这个问题解决思想类似LeetCode的一道题目—<a target="_blank" rel="noopener" href="https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/description/">Two Sum II - Input array is sorted</a>，需要两个指针移动来进行搜索 (关于这个问题，可以参考<a href="/2018/03/30/LeetCode-167-Two-Sum-II-Input-array-is-sorted/" title="LeetCode 167 - Two Sum II - Input array is sorted">我的文章</a>)，区别在于这里需要找到多组数字 $b$ 和数字 $c$。</p>
<p>这道题目还有一个难点，就是解决重复的数字对，根据前面的描述，我们所遇到的重复有两个，一个是数字 $a$ 会重复，一个是数字对 $(b, c)$ 会重复，解决方案如下：</p>
<ul>
<li>遇到数字 $a$ 重复，跳到下一个数字作为数字 $a$</li>
<li>在搜索满足条件的数字对 $(b, c)$ 时，如果搜索到满足条件的数字对 $(b, c)$ 后，两个指针同时移动，直到指针指向的元素不是之前搜索到的数字对 $(b, c)$</li>
</ul>
<p>说了这么多，读者理解起来可能有点困难，还是看实现代码更容易理解前面所说的思路。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; threeSum(vector&lt;int&gt;&amp; nums)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; triplets;</span><br><span class="line"></span><br><span class="line">        if (nums.size() &lt; 3)</span><br><span class="line">            return triplets;</span><br><span class="line"></span><br><span class="line">        sort(nums.begin(), nums.end());</span><br><span class="line">        int left, right, target;</span><br><span class="line">        for (int i=0; i&lt;nums.size(); i++) &#123;</span><br><span class="line">            if (i == 0 || nums[i] &gt; nums[i-1]) &#123;</span><br><span class="line">                target = -nums[i];</span><br><span class="line">                left = i+1;</span><br><span class="line">                right = nums.size()-1;</span><br><span class="line">                while (left &lt; right) &#123;</span><br><span class="line">                    if (nums[left] + nums[right] &lt; target) &#123;</span><br><span class="line">                        left++;</span><br><span class="line">                    &#125; else if (nums[left] + nums[right] &gt; target) &#123;</span><br><span class="line">                        right--;</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        triplets.push_back(vector&lt;int&gt;&#123;nums[i], nums[left], nums[right]&#125;);</span><br><span class="line">                        left++;</span><br><span class="line">                        right--;</span><br><span class="line">                        while (left &lt; right &amp;&amp; nums[left] == nums[left-1])</span><br><span class="line">                            left++;</span><br><span class="line">                        while (left &lt; right &amp;&amp; nums[right] == nums[right+1])</span><br><span class="line">                            right--;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return triplets;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    Solution solu;</span><br><span class="line">    //vector&lt;int&gt; nums &#123;1,0,1,2,-1,-4&#125;;</span><br><span class="line">    vector&lt;int&gt; nums &#123;0,-5,3,-4,1,3,-4,-2,-2,-2,0,3,0,1,-4,-2,0&#125;;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; triplets = solu.threeSum(nums);</span><br><span class="line">    for (int i=0; i&lt;triplets.size(); i++) &#123;</span><br><span class="line">        for (int j=0; j&lt;triplets[i].size(); j++) &#123;</span><br><span class="line">            cout &lt;&lt; triplets[i][j] &lt;&lt; &quot; &quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Luo Wanqian</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">80</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">33</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Luo Wanqian</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
